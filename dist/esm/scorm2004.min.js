var t={56:function(t,e,i){i.d(e,{K$:function(){return n},Mb:function(){return o},YE:function(){return r},lC:function(){return s}});var n={UNKNOWN:"unknown",TRUE:"true",FALSE:"false"},r={PASSED:"passed",FAILED:"failed",UNKNOWN:"unknown"},s={COMPLETED:"completed",INCOMPLETE:"incomplete",UNKNOWN:"unknown"},o={i:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,NONE:5}},179:function(t,e,i){i.d(e,{t:function(){return o}});var n=i(635),r=i(784),s=i(340).QP.error_descriptions,o=function(t){function e(e){return{}.hasOwnProperty.call(s,e+"")?t.call(this,e,s[e+""].basicMessage,s[e+""].detailMessage)||this:t.call(this,101,s[101].basicMessage,s[101].detailMessage)||this}return(0,n.C6)(e,t),e}(r.y)},273:function(t,e,i){i.d(e,{A:function(){return w}});var n=i(635),r=i(340),s=i(864),o=i(56),u={autocommit:!1,autocommitSeconds:10,asyncCommit:!1,sendFullCommit:!0,lmsCommitUrl:!1,dataCommitFormat:"json",commitRequestDataType:"application/json;charset=UTF-8",autoProgress:!1,logLevel:o.Mb.ERROR,selfReportSessionTime:!1,alwaysSendTotalTime:!1,renderCommonCommitFields:!1,strict_errors:!0,xhrHeaders:{},xhrWithCredentials:!1,fetchMode:"cors",responseHandler:function(t){return(0,n.sH)(this,void 0,void 0,(function(){var e,i;return(0,n.YH)(this,(function(n){switch(n.label){case 0:return void 0===t?[3,2]:[4,t.text()];case 1:return e=n.sent(),i=null,e&&(i=JSON.parse(e)),null!==i&&{}.hasOwnProperty.call(i,"result")?[2,{result:i.result,errorCode:i.errorCode?i.errorCode:i.result===r.u.SCORM_TRUE?0:101}]:200===t.status?[2,{result:r.u.SCORM_TRUE,errorCode:0}]:[2,{result:r.u.SCORM_FALSE,errorCode:101}];case 2:return[2,{result:r.u.SCORM_FALSE,errorCode:101}]}}))}))},requestHandler:function(t){return t},onLogMessage:a,scoItemIds:[],scoItemIdValidator:!1,globalObjectiveIds:[]};function a(t,e){switch(t){case"4":case 4:case"ERROR":case o.Mb.ERROR:console.error(e);break;case"3":case 3:case"WARN":case o.Mb.WARN:console.warn(e);break;case"2":case 2:case"INFO":case o.Mb.INFO:console.info(e);break;case"1":case 1:case"DEBUG":case o.Mb.DEBUG:console.debug?console.debug(e):console.log(e)}}var c=function(){function t(t,e,i){this.l=!1,this.m=t,this._=setTimeout(this.wrapper.bind(this),e),this.I=i}return t.prototype.cancel=function(){this.l=!0,this._&&clearTimeout(this._)},t.prototype.wrapper=function(){this.l||(0,n.sH)(this,void 0,void 0,(function(){return(0,n.YH)(this,(function(t){switch(t.label){case 0:return[4,this.m.commit(this.I)];case 1:return[2,t.sent()]}}))}))},t}(),l=function(){function t(t,e){this.settings=t,this.error_codes=e}return t.prototype.processHttpRequest=function(t,e){return(0,n.sH)(this,arguments,void 0,(function(t,e,i,s,u){var a,c,l=this;return void 0===i&&(i=!1),(0,n.YH)(this,(function(h){switch(h.label){case 0:return a={result:r.u.SCORM_FALSE,errorCode:this.error_codes.GENERAL},i?(this.performFetch(t,e).then((function(t){return(0,n.sH)(l,void 0,void 0,(function(){return(0,n.YH)(this,(function(e){switch(e.label){case 0:return[4,this.transformResponse(t,u)];case 1:return e.sent(),[2]}}))}))})),[2,{result:r.u.SCORM_TRUE,errorCode:0}]):(c=function(t,e,i){return(0,n.sH)(l,void 0,void 0,(function(){var r,c;return(0,n.YH)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),e=i.requestHandler(e),[4,this.performFetch(t,e)];case 1:return r=n.sent(),[2,this.transformResponse(r,u)];case 2:return c=n.sent(),s("processHttpRequest",c,o.Mb.ERROR),u("CommitError"),[2,a];case 3:return[2]}}))}))},[4,c(t,e,this.settings)]);case 1:return[2,h.sent()]}}))}))},t.prototype.performFetch=function(t,e){return(0,n.sH)(this,void 0,void 0,(function(){return(0,n.YH)(this,(function(i){return[2,fetch(t,{method:"POST",mode:this.settings.fetchMode,body:e instanceof Array?e.join("&"):JSON.stringify(e),headers:(0,n.Cl)((0,n.Cl)({},this.settings.xhrHeaders),{"Content-Type":this.settings.commitRequestDataType}),credentials:this.settings.xhrWithCredentials?"include":void 0,keepalive:!0})]}))}))},t.prototype.transformResponse=function(t,e){return(0,n.sH)(this,void 0,void 0,(function(){var i,s;return(0,n.YH)(this,(function(n){switch(n.label){case 0:return"function"!=typeof this.settings.responseHandler?[3,2]:[4,this.settings.responseHandler(t)];case 1:return s=n.sent(),[3,4];case 2:return[4,t.json()];case 3:s=n.sent(),n.label=4;case 4:return i=s,200>t.status||t.status>299||!0!==i.result&&i.result!==r.u.SCORM_TRUE?(e("CommitError"),Object.hasOwnProperty.call(i,"errorCode")||(i.errorCode=this.error_codes.GENERAL)):(e("CommitSuccess"),Object.hasOwnProperty.call(i,"errorCode")||(i.errorCode=0)),[2,i]}}))}))},t.prototype.updateSettings=function(t){this.settings=t},t}(),h=function(){function t(t){this.apiLog=t,this.listenerMap=new Map,this.listenerCount=0}return t.prototype.parseListenerName=function(t){var e=t.split(".");if(0===e.length)return null;var i=e[0],n=null;return e.length>1&&(n=t.replace("".concat(i,"."),"")),{functionName:i,CMIElement:n}},t.prototype.on=function(t,e){var i;if(e)for(var n=0,r=t.split(" ");r.length>n;n++){var s=this.parseListenerName(r[n]);if(s){var u=s.functionName,a=s.CMIElement,c=null!==(i=this.listenerMap.get(u))&&void 0!==i?i:[];c.push({functionName:u,CMIElement:a,callback:e}),this.listenerMap.set(u,c),this.listenerCount++,this.apiLog("on","Added event listener: ".concat(this.listenerCount),o.Mb.INFO,u)}}},t.prototype.off=function(t,e){if(e)for(var i=t.split(" "),n=function(t){var i=r.parseListenerName(t);if(!i)return"continue";var n=i.functionName,s=i.CMIElement,u=r.listenerMap.get(n);if(!u)return"continue";var a=u.findIndex((function(t){return t.CMIElement===s&&t.callback===e}));-1!==a&&(u.splice(a,1),r.listenerCount--,0===u.length?r.listenerMap.delete(n):r.listenerMap.set(n,u),r.apiLog("off","Removed event listener: ".concat(r.listenerCount),o.Mb.INFO,n))},r=this,s=0,u=i;u.length>s;s++)n(u[s])},t.prototype.clear=function(t){for(var e=t.split(" "),i=function(t){var e=n.parseListenerName(t);if(!e)return"continue";var i=e.functionName,r=e.CMIElement;if(n.listenerMap.has(i)){var s=n.listenerMap.get(i),o=s.filter((function(t){return t.CMIElement!==r}));n.listenerCount-=s.length-o.length,0===o.length?n.listenerMap.delete(i):n.listenerMap.set(i,o)}},n=this,r=0,s=e;s.length>r;r++)i(s[r])},t.prototype.processListeners=function(t,e,i){this.apiLog(t,i,o.Mb.INFO,e);var n=this.listenerMap.get(t);if(n)for(var r=0,u=n;u.length>r;r++){var a=u[r],c=!!a.CMIElement,l=!1;if(e&&a.CMIElement&&a.CMIElement.endsWith("*")){var h=a.CMIElement.slice(0,-1);l=(0,s.J6)(e,h)}else l=a.CMIElement===e;c&&!l||(this.apiLog("processListeners","Processing listener: ".concat(a.functionName),o.Mb.DEBUG,e),a.callback(e,i))}},t.prototype.reset=function(){this.listenerMap.clear(),this.listenerCount=0},t}(),f=function(){function t(){}return t.prototype.loadFromFlattenedJSON=function(t,e,i,n,r){if(void 0===e&&(e=""),r()){var o=/^(cmi\.interactions\.)(\d+)\.(.*)$/,u=/^(cmi\.objectives\.)(\d+)\.(.*)$/,a=[],c=[],l=[];for(var h in t)if({}.hasOwnProperty.call(t,h)){var f=h.match(o);if(f){a.push({key:h,value:t[h],index:+f[2],field:f[3]});continue}var d=h.match(u);if(d){c.push({key:h,value:t[h],index:+d[2],field:d[3]});continue}l.push({key:h,value:t[h]})}a.sort((function(t,e){return t.index!==e.index?t.index-e.index:"id"===t.field?-1:"id"===e.field?1:"type"===t.field?-1:"type"===e.field?1:t.field.localeCompare(e.field)})),c.sort((function(t,e){return t.index!==e.index?t.index-e.index:"id"===t.field?-1:"id"===e.field?1:t.field.localeCompare(e.field)})),l.sort((function(t,e){return t.key.localeCompare(e.key)}));var m=function(t){t.forEach((function(t){var n={};n[t.key]=t.value,i((0,s.sB)(n),e)}))};m(a),m(c),m(l)}else console.error("loadFromFlattenedJSON can only be called before the call to lmsInitialize.")},t.prototype.loadFromJSON=function(t,e,i,n,r){if(void 0===e&&(e=""),n()){for(var s in e=void 0!==e?e:"cmi",r(t),t)if({}.hasOwnProperty.call(t,s)&&t[s]){var o=(e?e+".":"")+s,u=t[s];if(u.constructor===Array){for(var a=0;u.length>a;a++)if(u[a]){var c=u[a],l="".concat(o,".").concat(a);c.constructor===Object?this.loadFromJSON(c,l,i,n,r):i(l,c)}}else u.constructor===Object?this.loadFromJSON(u,o,i,n,r):i(o,u)}}else console.error("loadFromJSON can only be called before the call to lmsInitialize.")},t.prototype.renderCMIToJSONString=function(t,e){return e?JSON.stringify({cmi:t}):JSON.stringify({cmi:t},(function(t,e){return void 0===e?null:e}),2)},t.prototype.renderCMIToJSONObject=function(t,e){return JSON.parse(this.renderCMIToJSONString(t,e))},t.prototype.getCommitObject=function(t,e,i,n,r,s){var u=t||e,a=i?n(u):r(u);return[o.Mb.DEBUG,"1",1,"DEBUG"].includes(s)&&(console.debug("Commit (terminated: "+(t?"yes":"no")+"): "),console.debug(a)),a},t}(),d=i(784),m=i(589);function b(t){return t instanceof m.B}var v=function(){function t(t,e,i,n,r,s,o){this.O=t,this.T=e,this.N=i,this.C=n,this.R=r,this.j=s,this.L=o}return t.prototype.updateLastErrorCode=function(t){this.L.lastErrorCode=t},t.prototype.throwSCORMError=function(t,e){this.N(t,e)},t.prototype.setCMIValue=function(t,e,i,u,a,c){if(!u||""===u)return r.u.SCORM_FALSE;for(var l=u.split("."),h=t,f=r.u.SCORM_FALSE,d=!1,m="The data model element passed to ".concat(e," (").concat(u,") is not a valid SCORM data model element."),v=i?this.O.UNDEFINED_DATA_MODEL:this.O.GENERAL,g=0;l.length>g;g++){var _=l[g];if(g===l.length-1)i&&"{target="===_.substring(0,8)?c?this.throwSCORMError(this.O.READ_ONLY_ELEMENT):h=(0,n.Cl)((0,n.Cl)({},h),{attribute:a}):this.j(h,_)?((0,s.J6)(u,"\\.correct_responses\\.\\d+")&&c&&this.C(u,a),i&&"0"!==this.L.lastErrorCode||(h[_]=a,f=r.u.SCORM_TRUE)):this.throwSCORMError(v,m);else{if(!(h=h[_])){this.throwSCORMError(v,m);break}if(b(h)){var p=parseInt(l[g+1],10);if(!isNaN(p)){var w=h.childArray[p];if(w)h=w,d=!0;else{var E=this.R(u,a,d);d=!0,E?(h.initialized&&E.initialize(),h.childArray.push(E),h=E):this.throwSCORMError(v,m)}g++}}}}return f===r.u.SCORM_FALSE&&this.T(e,"There was an error setting the value for: ".concat(u,", value of: ").concat(a),o.Mb.WARN),f},t.prototype.getCMIValue=function(t,e,i,n){if(!n||""===n)return"";for(var r=n.split("."),s=t,o=null,u="The data model element passed to ".concat(e," (").concat(n,") has not been initialized."),a="The data model element passed to ".concat(e," (").concat(n,") is not a valid SCORM data model element."),c=i?this.O.UNDEFINED_DATA_MODEL:this.O.GENERAL,l=0;r.length>l;l++){if(o=r[l],i){if("{target="===(o+"").substring(0,8)&&"function"==typeof s.k)return s.k((o+"").substring(8,(o+"").length-9));if(!this.j(s,o))return void this.throwSCORMError(c,a)}else if(l===r.length-1&&!this.j(s,o))return void this.throwSCORMError(c,a);if(void 0===(s=s[o])){this.throwSCORMError(c,a);break}if(b(s)){var h=parseInt(r[l+1],10);if(!isNaN(h)){var f=s.childArray[h];if(!f){this.throwSCORMError(this.O.VALUE_NOT_INITIALIZED,u);break}s=f,l++}}}if(null!=s)return s;i||("_children"===o?this.throwSCORMError(this.O.CHILDREN_ERROR):"_count"===o&&this.throwSCORMError(this.O.COUNT_ERROR))},t}(),g=function(){function t(t,e,i){this.F="0",this.G=t,this.T=e,this.U=i}return Object.defineProperty(t.prototype,"lastErrorCode",{get:function(){return this.F},set:function(t){this.F=t},enumerable:!1,configurable:!0}),t.prototype.throwSCORMError=function(t,e){e||(e=this.U(t)),this.T("throwSCORMError",t+": "+e,o.Mb.ERROR),this.F=t+""},t.prototype.clearSCORMError=function(t){void 0!==t&&t!==r.u.SCORM_FALSE&&(this.F="0")},t.prototype.handleValueAccessException=function(t,e){return t instanceof d.y?(this.F=t.errorCode+"",e=r.u.SCORM_FALSE):(console.error(t instanceof Error&&t.message?t.message:t),this.throwSCORMError(this.G.GENERAL)),e},Object.defineProperty(t.prototype,"errorCodes",{get:function(){return this.G},enumerable:!1,configurable:!0}),t}(),_=function(){function t(){this.P=o.Mb.ERROR,this.Z=a}return t.getInstance=function(){return t.Y||(t.Y=new t),t.Y},t.prototype.setLogLevel=function(t){this.P=t},t.prototype.getLogLevel=function(){return this.P},t.prototype.setLogHandler=function(t){this.Z=t},t.prototype.log=function(t,e){this.shouldLog(t)&&this.Z(t,e)},t.prototype.error=function(t){this.log(o.Mb.ERROR,t)},t.prototype.warn=function(t){this.log(o.Mb.WARN,t)},t.prototype.info=function(t){this.log(o.Mb.INFO,t)},t.prototype.debug=function(t){this.log(o.Mb.DEBUG,t)},t.prototype.shouldLog=function(t){return this.getNumericLevel(t)>=this.getNumericLevel(this.P)},t.prototype.getNumericLevel=function(t){if(void 0===t)return o.Mb.NONE;if("number"==typeof t)return t;switch(t){case"1":case"DEBUG":return o.Mb.DEBUG;case"2":case"INFO":return o.Mb.INFO;case"3":case"WARN":return o.Mb.WARN;case"4":case"ERROR":default:return o.Mb.ERROR;case"5":case"NONE":return o.Mb.NONE}},t}(),p=function(){function t(e,i,n,s,a,c,d,m){var b,p,w,E=this.constructor;if(this.K=u,E===t)throw new TypeError("Cannot construct BaseAPI instances directly");this.currentState=r.u.STATE_NOT_INITIALIZED,this.O=e,i&&(this.settings=i),this.apiLogLevel=this.settings.logLevel,this.selfReportSessionTime=this.settings.selfReportSessionTime,void 0===this.apiLogLevel&&(this.apiLogLevel=o.Mb.NONE),this.X=m||_.getInstance(),this.X.setLogLevel(this.apiLogLevel),this.settings.onLogMessage&&this.X.setLogHandler(this.settings.onLogMessage),this.tt=n||new l(this.settings,this.O),this.et=s||new h(this.apiLog.bind(this)),this.it=a||new f,this.L=d||(b=this.O,p=this.apiLog.bind(this),w=this.getLmsErrorMessageDetails.bind(this),new g(b,p,w)),this.nt=c||new v(this.O,this.apiLog.bind(this),this.throwSCORMError.bind(this),this.validateCorrectResponse.bind(this),this.getChildElement.bind(this),this.j.bind(this),this.L)}return Object.defineProperty(t.prototype,"lastErrorCode",{get:function(){var t,e;return null!==(e=null===(t=this.L)||void 0===t?void 0:t.lastErrorCode)&&void 0!==e?e:"0"},set:function(t){this.L&&(this.L.lastErrorCode=t)},enumerable:!1,configurable:!0}),t.prototype.commonReset=function(t){this.apiLog("reset","Called",o.Mb.INFO),this.settings=(0,n.Cl)((0,n.Cl)({},this.settings),t),this.clearScheduledCommit(),this.currentState=r.u.STATE_NOT_INITIALIZED,this.lastErrorCode="0",this.et.reset(),this.startingData=void 0},t.prototype.initialize=function(t,e,i){var n=r.u.SCORM_FALSE;return this.isInitialized()?this.throwSCORMError(this.O.INITIALIZED,e):this.isTerminated()?this.throwSCORMError(this.O.TERMINATED,i):(this.selfReportSessionTime&&this.cmi.setStartTime(),this.currentState=r.u.STATE_INITIALIZED,this.lastErrorCode="0",n=r.u.SCORM_TRUE,this.processListeners(t)),this.apiLog(t,"returned: "+n,o.Mb.INFO),this.clearSCORMError(n),n},t.prototype.apiLog=function(t,e,i,n){e=(0,s.hw)(t,e,n),this.apiLogLevel>i||(this.X.log(i,e),this.settings.onLogMessage&&this.settings.onLogMessage!==this.X.Z&&this.settings.onLogMessage(i,e))},Object.defineProperty(t.prototype,"error_codes",{get:function(){return this.O},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"settings",{get:function(){return this.K},set:function(t){var e,i,r,s=this.K;this.K=(0,n.Cl)((0,n.Cl)({},this.K),t),null===(e=this.tt)||void 0===e||e.updateSettings(this.K),void 0!==t.logLevel&&t.logLevel!==s.logLevel&&(this.apiLogLevel=t.logLevel,null===(i=this.X)||void 0===i||i.setLogLevel(t.logLevel)),void 0!==t.onLogMessage&&t.onLogMessage!==s.onLogMessage&&(null===(r=this.X)||void 0===r||r.setLogHandler(t.onLogMessage))},enumerable:!1,configurable:!0}),t.prototype.terminate=function(t,e){return(0,n.sH)(this,void 0,void 0,(function(){var i,s,u,a;return(0,n.YH)(this,(function(n){switch(n.label){case 0:return i=r.u.SCORM_FALSE,this.checkState(e,this.O.TERMINATION_BEFORE_INIT,this.O.MULTIPLE_TERMINATION)?(this.currentState=r.u.STATE_TERMINATED,[4,this.storeData(!0)]):[3,2];case 1:s=n.sent(),(null!==(u=s.errorCode)&&void 0!==u?u:0)>0&&this.throwSCORMError(s.errorCode),i=null!==(a=null==s?void 0:s.result)&&void 0!==a?a:r.u.SCORM_FALSE,e&&(this.lastErrorCode="0"),i=r.u.SCORM_TRUE,this.processListeners(t),n.label=2;case 2:return this.apiLog(t,"returned: "+i,o.Mb.INFO),this.clearSCORMError(i),[2,i]}}))}))},t.prototype.getValue=function(t,e,i){var n="";if(this.checkState(e,this.O.RETRIEVE_BEFORE_INIT,this.O.RETRIEVE_AFTER_TERM)){e&&(this.lastErrorCode="0");try{n=this.getCMIValue(i)}catch(t){n=this.handleValueAccessException(t,n)}this.processListeners(t,i)}return this.apiLog(t,": returned: "+n,o.Mb.INFO,i),void 0===n?"":(this.clearSCORMError(n),n)},t.prototype.setValue=function(t,e,i,n,s){void 0!==s&&(s+="");var u=r.u.SCORM_FALSE;if(this.checkState(i,this.O.STORE_BEFORE_INIT,this.O.STORE_AFTER_TERM)){i&&(this.lastErrorCode="0");try{u=this.setCMIValue(n,s)}catch(t){u=this.handleValueAccessException(t,u)}this.processListeners(t,n,s)}return void 0===u&&(u=r.u.SCORM_FALSE),this.lastErrorCode+""=="0"&&this.settings.autocommit&&this.scheduleCommit(1e3*this.settings.autocommitSeconds,e),this.apiLog(t,": "+s+": result: "+u,o.Mb.INFO,n),this.clearSCORMError(u),u},t.prototype.commit=function(t){return(0,n.sH)(this,arguments,void 0,(function(t,e){var i,s,u,a;return void 0===e&&(e=!1),(0,n.YH)(this,(function(n){switch(n.label){case 0:return this.clearScheduledCommit(),i=r.u.SCORM_FALSE,this.checkState(e,this.O.COMMIT_BEFORE_INIT,this.O.COMMIT_AFTER_TERM)?[4,this.storeData(!1)]:[3,2];case 1:s=n.sent(),(null!==(u=s.errorCode)&&void 0!==u?u:0)>0&&this.throwSCORMError(s.errorCode),i=null!==(a=null==s?void 0:s.result)&&void 0!==a?a:r.u.SCORM_FALSE,this.apiLog(t," Result: "+i,o.Mb.DEBUG,"HttpRequest"),e&&(this.lastErrorCode="0"),this.processListeners(t),n.label=2;case 2:return this.apiLog(t,"returned: "+i,o.Mb.INFO),this.clearSCORMError(i),[2,i]}}))}))},t.prototype.getLastError=function(t){var e=this.lastErrorCode+"";return this.processListeners(t),this.apiLog(t,"returned: "+e,o.Mb.INFO),e},t.prototype.getErrorString=function(t,e){var i="";return null!==e&&""!==e&&(i=this.getLmsErrorMessageDetails(e),this.processListeners(t)),this.apiLog(t,"returned: "+i,o.Mb.INFO),i},t.prototype.getDiagnostic=function(t,e){var i="";return null!==e&&""!==e&&(i=this.getLmsErrorMessageDetails(e,!0),this.processListeners(t)),this.apiLog(t,"returned: "+i,o.Mb.INFO),i},t.prototype.checkState=function(t,e,i){return this.isNotInitialized()?(this.throwSCORMError(e),!1):!t||!this.isTerminated()||(this.throwSCORMError(i),!1)},t.prototype.getLmsErrorMessageDetails=function(t,e){throw void 0===e&&(e=!1),Error("The getLmsErrorMessageDetails method has not been implemented")},t.prototype.getCMIValue=function(t){throw Error("The getCMIValue method has not been implemented")},t.prototype.setCMIValue=function(t,e){throw Error("The setCMIValue method has not been implemented")},t.prototype.rt=function(t,e,i,n){return this.nt.setCMIValue(this,t,e,i,n,this.isInitialized())},t.prototype.st=function(t,e,i){return this.nt.getCMIValue(this,t,e,i)},t.prototype.isInitialized=function(){return this.currentState===r.u.STATE_INITIALIZED},t.prototype.isNotInitialized=function(){return this.currentState===r.u.STATE_NOT_INITIALIZED},t.prototype.isTerminated=function(){return this.currentState===r.u.STATE_TERMINATED},t.prototype.on=function(t,e){this.et.on(t,e)},t.prototype.off=function(t,e){this.et.off(t,e)},t.prototype.clear=function(t){this.et.clear(t)},t.prototype.processListeners=function(t,e,i){this.et.processListeners(t,e,i)},t.prototype.throwSCORMError=function(t,e){this.L.throwSCORMError(t,e)},t.prototype.clearSCORMError=function(t){this.L.clearSCORMError(t)},t.prototype.loadFromFlattenedJSON=function(t,e){e||(e=""),this.it.loadFromFlattenedJSON(t,e,this.loadFromJSON.bind(this),this.setCMIValue.bind(this),this.isNotInitialized.bind(this))},t.prototype.loadFromJSON=function(t,e){var i=this;void 0===e&&(e=""),this.it.loadFromJSON(t,e,this.setCMIValue.bind(this),this.isNotInitialized.bind(this),(function(t){i.startingData=t}))},t.prototype.renderCMIToJSONString=function(){return this.it.renderCMIToJSONString(this.cmi,this.settings.sendFullCommit)},t.prototype.renderCMIToJSONObject=function(){return this.it.renderCMIToJSONObject(this.cmi,this.settings.sendFullCommit)},t.prototype.processHttpRequest=function(t,e){return(0,n.sH)(this,arguments,void 0,(function(t,e,i){return void 0===i&&(i=!1),(0,n.YH)(this,(function(n){return[2,this.tt.processHttpRequest(t,e,i,this.apiLog.bind(this),this.processListeners.bind(this))]}))}))},t.prototype.scheduleCommit=function(t,e){this._||(this._=new c(this,t,e),this.apiLog("scheduleCommit","scheduled",o.Mb.DEBUG,""))},t.prototype.clearScheduledCommit=function(){this._&&(this._.cancel(),this._=void 0,this.apiLog("clearScheduledCommit","cleared",o.Mb.DEBUG,""))},t.prototype.j=function(t,e){return Object.hasOwnProperty.call(t,e)||null!=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t),e)||e in t},t.prototype.handleValueAccessException=function(t,e){return this.L.handleValueAccessException(t,e)},t.prototype.getCommitObject=function(t){return this.it.getCommitObject(t,this.settings.alwaysSendTotalTime,this.settings.renderCommonCommitFields,this.renderCommitObject.bind(this),this.renderCommitCMI.bind(this),this.apiLogLevel)},t}(),w=p},319:function(t,e,i){i.d(e,{J:function(){return r},r:function(){return s}});var n=i(635),r=function(){function t(){this.jsonString=!1,this.ot=!1}return Object.defineProperty(t.prototype,"initialized",{get:function(){return this.ot},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"start_time",{get:function(){return this.ut},enumerable:!1,configurable:!0}),t.prototype.initialize=function(){this.ot=!0},t.prototype.setStartTime=function(){this.ut=(new Date).getTime()},t}(),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,n.C6)(e,t),e}(r)},340:function(t,e,i){i.d(e,{QP:function(){return s},u:function(){return r},zR:function(){return o}});var n=i(635),r={SCORM_TRUE:"true",SCORM_FALSE:"false",STATE_NOT_INITIALIZED:0,STATE_INITIALIZED:1,STATE_TERMINATED:2},s={cmi_children:"core,suspend_data,launch_data,comments,objectives,student_data,student_preference,interactions",core_children:"student_id,student_name,lesson_location,credit,lesson_status,entry,score,total_time,lesson_mode,exit,session_time",score_children:"raw,min,max",comments_children:"content,location,time",objectives_children:"id,score,status",correct_responses_children:"pattern",student_data_children:"mastery_score,max_time_allowed,time_limit_action",student_preference_children:"audio,language,speed,text",interactions_children:"id,objectives,time,type,correct_responses,weighting,student_response,result,latency",error_descriptions:{101:{basicMessage:"General Exception",detailMessage:"No specific error code exists to describe the error. Use LMSGetDiagnostic for more information"},201:{basicMessage:"Invalid argument error",detailMessage:"Indicates that an argument represents an invalid data model element or is otherwise incorrect."},202:{basicMessage:"Element cannot have children",detailMessage:'Indicates that LMSGetValue was called with a data model element name that ends in "_children" for a data model element that does not support the "_children" suffix.'},203:{basicMessage:"Element not an array - cannot have count",detailMessage:'Indicates that LMSGetValue was called with a data model element name that ends in "_count" for a data model element that does not support the "_count" suffix.'},301:{basicMessage:"Not initialized",detailMessage:"Indicates that an API call was made before the call to lmsInitialize."},401:{basicMessage:"Not implemented error",detailMessage:"The data model element indicated in a call to LMSGetValue or LMSSetValue is valid, but was not implemented by this LMS. SCORM 1.2 defines a set of data model elements as being optional for an LMS to implement."},402:{basicMessage:"Invalid set value, element is a keyword",detailMessage:'Indicates that LMSSetValue was called on a data model element that represents a keyword (elements that end in "_children" and "_count").'},403:{basicMessage:"Element is read only",detailMessage:"LMSSetValue was called with a data model element that can only be read."},404:{basicMessage:"Element is write only",detailMessage:"LMSGetValue was called on a data model element that can only be written to."},405:{basicMessage:"Incorrect Data Type",detailMessage:"LMSSetValue was called with a value that is not consistent with the data format of the supplied data model element."},407:{basicMessage:"Element Value Out Of Range",detailMessage:"The numeric value supplied to a LMSSetValue call is outside of the numeric range allowed for the supplied data model element."},408:{basicMessage:"Data Model Dependency Not Established",detailMessage:"Some data model elements cannot be set until another data model element was set. This error condition indicates that the prerequisite element was not set before the dependent element."}}},o=((0,n.Cl)((0,n.Cl)({},s),{cmi_children:"core,suspend_data,launch_data,comments,objectives,student_data,student_preference,interactions,evaluation",student_preference_children:"audio,language,lesson_type,speed,text,text_color,text_location,text_size,video,windows",student_data_children:"attempt_number,tries,mastery_score,max_time_allowed,time_limit_action",student_demographics_children:"city,class,company,country,experience,familiar_name,instructor_name,title,native_language,state,street_address,telephone,years_experience",tries_children:"time,status,score",attempt_records_children:"score,lesson_status",paths_children:"location_id,date,time,status,why_left,time_in_element"}),{cmi_children:"_version,comments_from_learner,comments_from_lms,completion_status,credit,entry,exit,interactions,launch_data,learner_id,learner_name,learner_preference,location,max_time_allowed,mode,objectives,progress_measure,scaled_passing_score,score,session_time,success_status,suspend_data,time_limit_action,total_time",comments_children:"comment,timestamp,location",score_children:"max,raw,scaled,min",objectives_children:"progress_measure,completion_status,success_status,description,score,id",correct_responses_children:"pattern",student_data_children:"mastery_score,max_time_allowed,time_limit_action",student_preference_children:"audio_level,audio_captioning,delivery_speed,language",interactions_children:"id,type,objectives,timestamp,correct_responses,weighting,learner_response,result,latency,description",adl_data_children:"id,store",error_descriptions:{0:{basicMessage:"No Error",detailMessage:"No error occurred, the previous API call was successful."},101:{basicMessage:"General Exception",detailMessage:"No specific error code exists to describe the error. Use GetDiagnostic for more information."},102:{basicMessage:"General Initialization Failure",detailMessage:"Call to Initialize failed for an unknown reason."},103:{basicMessage:"Already Initialized",detailMessage:"Call to Initialize failed because Initialize was already called."},104:{basicMessage:"Content Instance Terminated",detailMessage:"Call to Initialize failed because Terminate was already called."},111:{basicMessage:"General Termination Failure",detailMessage:"Call to Terminate failed for an unknown reason."},112:{basicMessage:"Termination Before Initialization",detailMessage:"Call to Terminate failed because it was made before the call to Initialize."},113:{basicMessage:"Termination After Termination",detailMessage:"Call to Terminate failed because Terminate was already called."},122:{basicMessage:"Retrieve Data Before Initialization",detailMessage:"Call to GetValue failed because it was made before the call to Initialize."},123:{basicMessage:"Retrieve Data After Termination",detailMessage:"Call to GetValue failed because it was made after the call to Terminate."},132:{basicMessage:"Store Data Before Initialization",detailMessage:"Call to SetValue failed because it was made before the call to Initialize."},133:{basicMessage:"Store Data After Termination",detailMessage:"Call to SetValue failed because it was made after the call to Terminate."},142:{basicMessage:"Commit Before Initialization",detailMessage:"Call to Commit failed because it was made before the call to Initialize."},143:{basicMessage:"Commit After Termination",detailMessage:"Call to Commit failed because it was made after the call to Terminate."},201:{basicMessage:"General Argument Error",detailMessage:"An invalid argument was passed to an API method (usually indicates that Initialize, Commit or Terminate did not receive the expected empty string argument."},301:{basicMessage:"General Get Failure",detailMessage:"Indicates a failed GetValue call where no other specific error code is applicable. Use GetDiagnostic for more information."},351:{basicMessage:"General Set Failure",detailMessage:"Indicates a failed SetValue call where no other specific error code is applicable. Use GetDiagnostic for more information."},391:{basicMessage:"General Commit Failure",detailMessage:"Indicates a failed Commit call where no other specific error code is applicable. Use GetDiagnostic for more information."},401:{basicMessage:"Undefined Data Model Element",detailMessage:"The data model element name passed to GetValue or SetValue is not a valid SCORM data model element."},402:{basicMessage:"Unimplemented Data Model Element",detailMessage:"The data model element indicated in a call to GetValue or SetValue is valid, but was not implemented by this LMS. In SCORM 2004, this error would indicate an LMS that is not fully SCORM conformant."},403:{basicMessage:"Data Model Element Value Not Initialized",detailMessage:"Attempt to read a data model element that has not been initialized by the LMS or through a SetValue call. This error condition is often reached during normal execution of a SCO."},404:{basicMessage:"Data Model Element Is Read Only",detailMessage:"SetValue was called with a data model element that can only be read."},405:{basicMessage:"Data Model Element Is Write Only",detailMessage:"GetValue was called on a data model element that can only be written to."},406:{basicMessage:"Data Model Element Type Mismatch",detailMessage:"SetValue was called with a value that is not consistent with the data format of the supplied data model element."},407:{basicMessage:"Data Model Element Value Out Of Range",detailMessage:"The numeric value supplied to a SetValue call is outside of the numeric range allowed for the supplied data model element."},408:{basicMessage:"Data Model Dependency Not Established",detailMessage:"Some data model elements cannot be set until another data model element was set. This error condition indicates that the prerequisite element was not set before the dependent element."}}})},417:function(t,e,i){i.d(e,{kS:function(){return r},xt:function(){return s}});var n=i(635),r={CMIString256:"^.{0,255}$",CMIString4096:"^.{0,4096}$",CMITime:"^(?:[01]\\d|2[0123]):(?:[012345]\\d):(?:[012345]\\d)$",CMITimespan:"^([0-9]{2,}):([0-9]{2}):([0-9]{2})(.[0-9]{1,2})?$",CMIInteger:"^\\d+$",CMISInteger:"^-?([0-9]+)$",CMIDecimal:"^-?([0-9]{0,3})(.[0-9]*)?$",CMIIdentifier:"^[\\u0021-\\u007E\\s]{0,255}$",CMIFeedback:"^.{0,255}$",CMIIndex:"[._](\\d+).",CMIStatus:"^(passed|completed|failed|incomplete|browsed)$",CMIStatus2:"^(passed|completed|failed|incomplete|browsed|not attempted)$",CMIExit:"^(time-out|suspend|logout|)$",CMIType:"^(true-false|choice|fill-in|matching|performance|sequencing|likert|numeric)$",CMIResult:"^(correct|wrong|unanticipated|neutral|([0-9]{0,3})?(\\.[0-9]*)?)$",NAVEvent:"^(previous|continue)$",score_range:"0#100",audio_range:"-1#100",speed_range:"-100#100",weighting_range:"-100#100",text_range:"-1#1"},s=((0,n.Cl)((0,n.Cl)({},r),{CMIIdentifier:"^\\w{1,255}$"}),{CMIString200:"^[\\u0000-\\uFFFF]{0,200}$",CMIString250:"^[\\u0000-\\uFFFF]{0,250}$",CMIString1000:"^[\\u0000-\\uFFFF]{0,1000}$",CMIString4000:"^[\\u0000-\\uFFFF]{0,4000}$",CMIString64000:"^[\\u0000-\\uFFFF]{0,64000}$",CMILang:"^([a-zA-Z]{2,3}|i|x)(-[a-zA-Z0-9-]{2,8})?$|^$",CMILangString250:"^({lang=([a-zA-Z]{2,3}|i|x)(-[a-zA-Z0-9-]{2,8})?})?((?!{.*$).{0,250}$)?$",CMILangcr:"^(({lang=([a-zA-Z]{2,3}|i|x)?(-[a-zA-Z0-9-]{2,8})?}))(.*?)$",CMILangString250cr:"^(({lang=([a-zA-Z]{2,3}|i|x)?(-[a-zA-Z0-9-]{2,8})?})?(.{0,250})?)?$",CMILangString4000:"^({lang=([a-zA-Z]{2,3}|i|x)(-[a-zA-Z0-9-]{2,8})?})?((?!{.*$).{0,4000}$)?$",CMITime:"^(19[7-9]{1}[0-9]{1}|20[0-2]{1}[0-9]{1}|203[0-8]{1})((-(0[1-9]{1}|1[0-2]{1}))((-(0[1-9]{1}|[1-2]{1}[0-9]{1}|3[0-1]{1}))(T([0-1]{1}[0-9]{1}|2[0-3]{1})((:[0-5]{1}[0-9]{1})((:[0-5]{1}[0-9]{1})((\\.[0-9]{1,2})((Z|([+|-]([0-1]{1}[0-9]{1}|2[0-3]{1})))(:[0-5]{1}[0-9]{1})?)?)?)?)?)?)?)?$",CMITimespan:"^P(?:([.,\\d]+)Y)?(?:([.,\\d]+)M)?(?:([.,\\d]+)W)?(?:([.,\\d]+)D)?(?:T?(?:([.,\\d]+)H)?(?:([.,\\d]+)M)?(?:([.,\\d]+)S)?)?$",CMIInteger:"^\\d+$",CMISInteger:"^-?([0-9]+)$",CMIDecimal:"^-?([0-9]{1,5})(\\.[0-9]{1,18})?$",CMIIdentifier:"^\\S{1,250}[a-zA-Z0-9]$",CMIShortIdentifier:"^[\\w\\.\\-\\_]{1,250}$",CMILongIdentifier:"^(?:(?!urn:)\\S{1,4000}|urn:[A-Za-z0-9-]{1,31}:\\S{1,4000}|.{1,4000})$",CMIFeedback:"^.*$",CMIIndex:"[._](\\d+).",CMIIndexStore:".N(\\d+).",CMICStatus:"^(completed|incomplete|not attempted|unknown)$",CMISStatus:"^(passed|failed|unknown)$",CMIExit:"^(time-out|suspend|logout|normal)$",CMIType:"^(true-false|choice|fill-in|long-fill-in|matching|performance|sequencing|likert|numeric|other)$",CMIResult:"^(correct|incorrect|unanticipated|neutral|-?([0-9]{1,4})(\\.[0-9]{1,18})?)$",NAVEvent:"^(previous|continue|exit|exitAll|abandon|abandonAll|suspendAll|_none_|(\\{target=(?<choice_target>\\S{0,}[a-zA-Z0-9-_]+)})?choice|(\\{target=(?<jump_target>\\S{0,}[a-zA-Z0-9-_]+)})?jump)$",NAVBoolean:"^(unknown|true|false$)",NAVTarget:"^{target=\\S{0,}[a-zA-Z0-9-_]+}$",scaled_range:"-1#1",audio_range:"0#*",speed_range:"0#*",text_range:"-1#1",progress_range:"0#1"})},434:function(t,e,i){i.d(e,{i:function(){return c}});var n=i(635),r=i(340),s=i(417),o=i(319),u=i(797),a=i(819),c=function(t){function e(e){var i=t.call(this)||this;return i.ct="",i.lt="",i.ht=e.score_children||r.QP.score_children,i.ft=!!e.score_range&&s.kS.score_range,i.dt=e.max||""===e.max?e.max:"100",i.bt=e.invalidErrorCode||u.Se.INVALID_SET_VALUE,i.vt=e.invalidTypeCode||u.Se.TYPE_MISMATCH,i.gt=e.invalidRangeCode||u.Se.VALUE_OUT_OF_RANGE,i._t=e.decimalRegex||s.kS.CMIDecimal,i.wt=e.errorClass,i}return(0,n.C6)(e,t),e.prototype.reset=function(){this.ot=!1},Object.defineProperty(e.prototype,"Et",{get:function(){return this.ht},set:function(t){throw new this.wt(this.bt)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"raw",{get:function(){return this.ct},set:function(t){a.v.validateScore(t,this._t,this.ft,this.vt,this.gt,this.wt)&&(this.ct=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this.lt},set:function(t){a.v.validateScore(t,this._t,this.ft,this.vt,this.gt,this.wt)&&(this.lt=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this.dt},set:function(t){a.v.validateScore(t,this._t,this.ft,this.vt,this.gt,this.wt)&&(this.dt=t)},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){this.jsonString=!0;var t={raw:this.raw,min:this.min,max:this.max};return delete this.jsonString,t},e}(o.J)},449:function(t,e,i){i.d(e,{W:function(){return s},q:function(){return r}});var n=i(864),r=(0,n.Bj)((function(t,e,i,n,r){if("string"!=typeof t)return!1;var s=RegExp(e),o=t.match(s);if(r&&""===t)return!0;if(void 0===t||!o||""===o[0])throw new n(i);return!0}),(function(t,e,i,n,r){return"".concat(t,":").concat(e,":").concat(i,":").concat(r||!1)})),s=(0,n.Bj)((function(t,e,i,n){var r=e.split("#");if(r[0]>(t*=1))throw new n(i);if("*"!==r[1]&&t>r[1])throw new n(i);return!0}),(function(t,e,i,n){return"".concat(t,":").concat(e,":").concat(i)}))},589:function(t,e,i){i.d(e,{B:function(){return u}});var n=i(635),r=i(319),s=i(784),o=i(797),u=function(t){function e(e){var i=t.call(this)||this;return i.ht=e.children,i.Mt=e.errorCode||o.Se.GENERAL,i.It=e.errorClass||s.$,i.childArray=[],i}return(0,n.C6)(e,t),e.prototype.reset=function(t){if(void 0===t&&(t=!1),this.ot=!1,t)this.childArray=[];else for(var e=0;this.childArray.length>e;e++)this.childArray[e].reset()},Object.defineProperty(e.prototype,"Et",{get:function(){return this.ht},set:function(t){throw new this.It(this.Mt)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Ot",{get:function(){return this.childArray.length},set:function(t){throw new this.It(this.Mt)},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){this.jsonString=!0;for(var t={},e=0;this.childArray.length>e;e++)t[e+""]=this.childArray[e];return delete this.jsonString,t},e}(r.J)},635:function(t,e,i){i.d(e,{C6:function(){return r},Cl:function(){return s},YH:function(){return u},sH:function(){return o}});var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)({}).hasOwnProperty.call(e,i)&&(t[i]=e[i])},n(t,e)};function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+e+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var s=function(){return s=Object.assign||function(t){for(var e,i=1,n=arguments.length;n>i;i++)for(var r in e=arguments[i])({}).hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},s.apply(this,arguments)};function o(t,e,i,n){return new(i||(i=Promise))((function(r,s){function o(t){try{a(n.next(t))}catch(t){s(t)}}function u(t){try{a(n.throw(t))}catch(t){s(t)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,u)}a((n=n.apply(t,e||[])).next())}))}function u(t,e){var i,n,r,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=u(0),o.throw=u(1),o.return=u(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(u){return function(a){return function(u){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(s=0)),s;)try{if(i=1,n&&(r=2&u[0]?n.return:u[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,u[1])).done)return r;switch(n=0,r&&(u=[2&u[0],r.value]),u[0]){case 0:case 1:r=u;break;case 4:return s.label++,{value:u[1],done:!1};case 5:s.label++,n=u[1],u=[0];continue;case 7:u=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==u[0]&&2!==u[0])){s=0;continue}if(3===u[0]&&(!r||u[1]>r[0]&&r[3]>u[1])){s.label=u[1];break}if(6===u[0]&&r[1]>s.label){s.label=r[1],r=u;break}if(r&&r[2]>s.label){s.label=r[2],s.ops.push(u);break}r[2]&&s.ops.pop(),s.trys.pop();continue}u=e.call(t,s)}catch(t){u=[6,t],n=0}finally{i=r=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}}"function"==typeof SuppressedError&&SuppressedError},784:function(t,e,i){i.d(e,{$:function(){return r},y:function(){return s}});var n=i(635),r=function(t){function e(e){var i=t.call(this,""+e)||this;return i.Mt=e,i.name="ScormValidationError",i}return(0,n.C6)(e,t),Object.defineProperty(e.prototype,"errorCode",{get:function(){return this.Mt},enumerable:!1,configurable:!0}),e}(Error),s=function(t){function e(e,i,n){var r=t.call(this,e)||this;return r.Tt="",r.message=i,r.Nt=i,n&&(r.Tt=n),r}return(0,n.C6)(e,t),Object.defineProperty(e.prototype,"errorMessage",{get:function(){return this.Nt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"detailedMessage",{get:function(){return this.Tt},enumerable:!1,configurable:!0}),e}(r)},797:function(t,e,i){i.d(e,{Rf:function(){return o},Se:function(){return s}});var n=i(635),r={GENERAL:101,INITIALIZATION_FAILED:101,INITIALIZED:101,TERMINATED:101,TERMINATION_FAILURE:101,TERMINATION_BEFORE_INIT:101,MULTIPLE_TERMINATION:101,RETRIEVE_BEFORE_INIT:101,RETRIEVE_AFTER_TERM:101,STORE_BEFORE_INIT:101,STORE_AFTER_TERM:101,COMMIT_BEFORE_INIT:101,COMMIT_AFTER_TERM:101,ARGUMENT_ERROR:101,CHILDREN_ERROR:101,COUNT_ERROR:101,GENERAL_GET_FAILURE:101,GENERAL_SET_FAILURE:101,GENERAL_COMMIT_FAILURE:101,UNDEFINED_DATA_MODEL:101,UNIMPLEMENTED_ELEMENT:101,VALUE_NOT_INITIALIZED:101,INVALID_SET_VALUE:101,READ_ONLY_ELEMENT:101,WRITE_ONLY_ELEMENT:101,TYPE_MISMATCH:101,VALUE_OUT_OF_RANGE:101,DEPENDENCY_NOT_ESTABLISHED:101},s=(0,n.Cl)((0,n.Cl)({},r),{RETRIEVE_BEFORE_INIT:301,STORE_BEFORE_INIT:301,COMMIT_BEFORE_INIT:301,ARGUMENT_ERROR:201,CHILDREN_ERROR:202,COUNT_ERROR:203,UNDEFINED_DATA_MODEL:401,UNIMPLEMENTED_ELEMENT:401,VALUE_NOT_INITIALIZED:301,INVALID_SET_VALUE:402,READ_ONLY_ELEMENT:403,WRITE_ONLY_ELEMENT:404,TYPE_MISMATCH:405,VALUE_OUT_OF_RANGE:407,DEPENDENCY_NOT_ESTABLISHED:408}),o=(0,n.Cl)((0,n.Cl)({},r),{INITIALIZATION_FAILED:102,INITIALIZED:103,TERMINATED:104,TERMINATION_FAILURE:111,TERMINATION_BEFORE_INIT:112,MULTIPLE_TERMINATIONS:113,RETRIEVE_BEFORE_INIT:122,RETRIEVE_AFTER_TERM:123,STORE_BEFORE_INIT:132,STORE_AFTER_TERM:133,COMMIT_BEFORE_INIT:142,COMMIT_AFTER_TERM:143,ARGUMENT_ERROR:201,GENERAL_GET_FAILURE:301,GENERAL_SET_FAILURE:351,GENERAL_COMMIT_FAILURE:391,UNDEFINED_DATA_MODEL:401,UNIMPLEMENTED_ELEMENT:402,VALUE_NOT_INITIALIZED:403,READ_ONLY_ELEMENT:404,WRITE_ONLY_ELEMENT:405,TYPE_MISMATCH:406,VALUE_OUT_OF_RANGE:407,DEPENDENCY_NOT_ESTABLISHED:408})},819:function(t,e,i){i.d(e,{v:function(){return a}});var n=i(449),r=i(915),s=i(417),o=i(797),u=i(179),a=new(function(){function t(){}return t.prototype.validateScore=function(t,e,i,r,s,o){return(0,n.q)(t,e,r,o)&&(!i||(0,n.W)(t,i,s,o))},t.prototype.validateScorm12Audio=function(t){return(0,r.p)(t,s.kS.CMISInteger)&&(0,r.h)(t,s.kS.audio_range)},t.prototype.validateScorm12Language=function(t){return(0,r.p)(t,s.kS.CMIString256)},t.prototype.validateScorm12Speed=function(t){return(0,r.p)(t,s.kS.CMISInteger)&&(0,r.h)(t,s.kS.speed_range)},t.prototype.validateScorm12Text=function(t){return(0,r.p)(t,s.kS.CMISInteger)&&(0,r.h)(t,s.kS.text_range)},t.prototype.validateReadOnly=function(t){if(t)throw new u.t(o.Se.READ_ONLY_ELEMENT)},t}())},864:function(t,e,i){i.d(e,{$o:function(){return o},Bj:function(){return f},Bq:function(){return u},J6:function(){return h},OI:function(){return s},hw:function(){return l},sB:function(){return a},xE:function(){return r}});var n={D:86400,H:3600,M:60,S:1},r=(f((function(t){if(!t||0>=t)return"00:00:00";var e=Math.floor(t/3600),i=new Date(1e3*t),n=i.getUTCMinutes(),r=i.getSeconds(),s=t%1,o="";return c(s)>0&&(o="."+(o=c(s)>2?s.toFixed(2):s+"").split(".")[1]),(e+":"+n+":"+r).replace(/\b\d\b/g,"0$&")+o})),f((function(t){if(!t||0>=t)return"PT0S";var e="P",i=t;return Object.entries(n).forEach((function(t){var n=t[0],r=t[1],s=Math.floor(i/r);c(i%=r)>2&&(i=+(+i).toFixed(2)),"S"===n&&i>0&&(s+=i),s&&((e.indexOf("D")>0||["H","M","S"].includes(n))&&-1===e.indexOf("T")&&(e+="T"),e+="".concat(s).concat(n))})),e}))),s=(f((function(t,e){var i;if("number"!=typeof t&&"boolean"!=typeof t||(t+=""),"string"==typeof e&&(e=RegExp(e)),!t||!(null===(i=null==t?void 0:t.match)||void 0===i?void 0:i.call(t,e)))return 0;var n=t.split(":");return 3600*+n[0]+60*+n[1]+ +n[2]}),(function(t,e){var i,n="string"==typeof e?e:null!==(i=null==e?void 0:""+e)&&void 0!==i?i:"";return"".concat("string"==typeof t?t:(null!=t?t:"")+"",":").concat(n)})),f((function(t,e){var i,n,r,s;if("string"==typeof e&&(e=RegExp(e)),!t||!(null===(i=null==t?void 0:t.match)||void 0===i?void 0:i.call(t,e)))return 0;var o=null!==(s=null===(r=(n=RegExp(e)).exec)||void 0===r?void 0:r.call(n,t))&&void 0!==s?s:[],u=0;return u+=+o[7]||0,u+=60*+o[6]||0,u+=3600*+o[5]||0,(u+=86400*+o[4]||0)+(31536e3*+o[1]||0)}),(function(t,e){var i,n="string"==typeof e?e:null!==(i=null==e?void 0:""+e)&&void 0!==i?i:"";return"".concat(null!=t?t:"",":").concat(n)})));function o(t,e,i){var n="string"==typeof i?RegExp(i):i;return r(s(t,n)+s(e,n))}function u(t){var e={};return function t(i,n){if(Object(i)!==i)e[n]=i;else if(Array.isArray(i))i.forEach((function(e,i){t(e,"".concat(n,"[").concat(i,"]"))})),0===i.length&&(e[n]=[]);else{var r=Object.keys(i).filter((function(t){return{}.hasOwnProperty.call(i,t)})),s=0===r.length;r.forEach((function(e){t(i[e],n?"".concat(n,".").concat(e):e)})),s&&n&&(e[n]={})}}(t,""),e}function a(t){var e;if(Object(t)!==t||Array.isArray(t))return t;var i={},n=/\.?([^.[\]]+)|\[(\d+)]/g;return Object.keys(t).filter((function(e){return{}.hasOwnProperty.call(t,e)})).forEach((function(e){var r,s,o=i,u="",a=RegExp(n);Array.from({length:null!==(s=null===(r=e.match(RegExp(n,"g")))||void 0===r?void 0:r.length)&&void 0!==s?s:0},(function(){return a.exec(e)})).forEach((function(t){var e;t&&(o=null!==(e=o[u])&&void 0!==e?e:o[u]=t[2]?[]:{},u=t[2]||t[1])})),o[u]=t[e]})),null!==(e=i[""])&&void 0!==e?e:i}function c(t){var e,i,n,r;if(Math.floor(t)===t||0>(null===(i=null===(e=t+"")||void 0===e?void 0:e.indexOf)||void 0===i?void 0:i.call(e,".")))return 0;var s=null===(n=(""+t).split("."))||void 0===n?void 0:n[1];return null!==(r=null==s?void 0:s.length)&&void 0!==r?r:0}function l(t,e,i){var n=t.padEnd(20),r="".concat(n,": ");return i&&(r=(r+=i).padEnd(70)),r+(null!=e?e:"")}function h(t,e){return null!==(null==t?void 0:t.match(e))}function f(t,e){var i=new Map;return function(){for(var n=[],r=0;arguments.length>r;r++)n[r]=arguments[r];var s,o=e?e.apply(void 0,n):JSON.stringify(n);return i.has(o)?i.get(o):(s=t.apply(void 0,n),i.set(o,s),s)}}},915:function(t,e,i){i.d(e,{h:function(){return u},p:function(){return o}});var n=i(449),r=i(797),s=i(179);function o(t,e,i){return(0,n.q)(t,e,r.Se.TYPE_MISMATCH,s.t,i)}function u(t,e,i){if(!i&&""===t)throw new s.t(r.Se.VALUE_OUT_OF_RANGE);return(0,n.W)(t,e,r.Se.VALUE_OUT_OF_RANGE,s.t)}}},e={};function i(n){var r=e[n];if(void 0!==r)return r.exports;var s=e[n]={exports:{}};return t[n](s,s.exports,i),s.exports}i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=function(t,e){return{}.hasOwnProperty.call(t,e)};var n={};i.d(n,{V:function(){return H}});var r=i(635),s=i(273),o=i(319),u=i(340),a=i(784),c=u.zR.error_descriptions,l=function(t){function e(e){return{}.hasOwnProperty.call(c,e+"")?t.call(this,e,c[e+""].basicMessage,c[e+""].detailMessage)||this:t.call(this,101,c[101].basicMessage,c[101].detailMessage)||this}return(0,r.C6)(e,t),e}(a.y),h=i(797),f=i(449);function d(t,e,i){return(0,f.q)(t,e,h.Rf.TYPE_MISMATCH,l,i)}function m(t,e){return(0,f.W)(t,e,h.Rf.VALUE_OUT_OF_RANGE,l)}var b=i(417),v=function(t){function e(){var e=t.call(this)||this;return e.ht=u.zR.student_preference_children,e.Ct="1",e.Rt="",e.jt="1",e.St="0",e}return(0,r.C6)(e,t),e.prototype.reset=function(){this.ot=!1},Object.defineProperty(e.prototype,"Et",{get:function(){return this.ht},set:function(t){throw new l(h.Rf.READ_ONLY_ELEMENT)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"audio_level",{get:function(){return this.Ct},set:function(t){d(t,b.xt.CMIDecimal)&&m(t,b.xt.audio_range)&&(this.Ct=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"language",{get:function(){return this.Rt},set:function(t){d(t,b.xt.CMILang)&&(this.Rt=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"delivery_speed",{get:function(){return this.jt},set:function(t){d(t,b.xt.CMIDecimal)&&m(t,b.xt.speed_range)&&(this.jt=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"audio_captioning",{get:function(){return this.St},set:function(t){d(t,b.xt.CMISInteger)&&m(t,b.xt.text_range)&&(this.St=t)},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){this.jsonString=!0;var t={audio_level:this.audio_level,language:this.language,delivery_speed:this.delivery_speed,audio_captioning:this.audio_captioning};return delete this.jsonString,t},e}(o.J),g=i(589),_={"true-false":{format:"^true$|^false$",max:1,delimiter:"",unique:!1},choice:{format:b.xt.CMILongIdentifier,max:36,delimiter:"[,]",unique:!0},"fill-in":{format:b.xt.CMILangString250,max:10,delimiter:"[,]",unique:!1},"long-fill-in":{format:b.xt.CMILangString4000,max:1,delimiter:"",unique:!1},matching:{format:b.xt.CMIShortIdentifier,format2:b.xt.CMIShortIdentifier,max:36,delimiter:"[,]",delimiter2:"[.]",unique:!1},performance:{format:"^$|"+b.xt.CMIShortIdentifier,format2:b.xt.CMIDecimal+"|^$|"+b.xt.CMIShortIdentifier,max:250,delimiter:"[,]",delimiter2:"[.]",unique:!1},sequencing:{format:b.xt.CMIShortIdentifier,max:36,delimiter:"[,]",unique:!1},likert:{format:b.xt.CMIShortIdentifier,max:1,delimiter:"",unique:!1},numeric:{format:b.xt.CMIDecimal,max:1,delimiter:"",unique:!1},other:{format:b.xt.CMIString4000,max:1,delimiter:"",unique:!1}},p={"true-false":{max:1,delimiter:"",unique:!1,duplicate:!1,format:"^true$|^false$",limit:1},choice:{max:36,delimiter:"[,]",unique:!0,duplicate:!1,format:b.xt.CMILongIdentifier},"fill-in":{max:10,delimiter:"[,]",unique:!1,duplicate:!1,format:b.xt.CMILangString250cr},"long-fill-in":{max:1,delimiter:"",unique:!1,duplicate:!0,format:b.xt.CMILangString4000},matching:{max:36,delimiter:"[,]",delimiter2:"[.]",unique:!1,duplicate:!1,format:b.xt.CMIShortIdentifier,format2:b.xt.CMIShortIdentifier},performance:{max:250,delimiter:"[,]",delimiter2:"[.]",delimiter3:"[:]",unique:!1,duplicate:!1,format:"^$|"+b.xt.CMIShortIdentifier,format2:b.xt.CMIDecimal+"|^$|"+b.xt.CMIShortIdentifier},sequencing:{max:36,delimiter:"[,]",unique:!1,duplicate:!1,format:b.xt.CMIShortIdentifier},likert:{max:1,delimiter:"",unique:!1,duplicate:!1,format:b.xt.CMIShortIdentifier,limit:1},numeric:{max:2,delimiter:"[:]",unique:!1,duplicate:!1,format:b.xt.CMIDecimal,limit:1},other:{max:1,delimiter:"",unique:!1,duplicate:!1,format:b.xt.CMIString4000,limit:1}},w=function(t){function e(){return t.call(this,{children:u.zR.interactions_children,errorCode:h.Rf.READ_ONLY_ELEMENT,errorClass:l})||this}return(0,r.C6)(e,t),e}(g.B),E=function(t){function e(){var e=t.call(this)||this;return e.At="",e.yt="",e.Lt="",e.kt="",e.Dt="",e.Ft="",e.$t="",e.zt="",e.objectives=new g.B({errorCode:h.Rf.READ_ONLY_ELEMENT,errorClass:l,children:u.zR.objectives_children}),e.correct_responses=new g.B({errorCode:h.Rf.READ_ONLY_ELEMENT,errorClass:l,children:u.zR.correct_responses_children}),e}return(0,r.C6)(e,t),e.prototype.initialize=function(){var e,i;t.prototype.initialize.call(this),null===(e=this.objectives)||void 0===e||e.initialize(),null===(i=this.correct_responses)||void 0===i||i.initialize()},e.prototype.reset=function(){this.ot=!1,this.At="",this.yt="",this.Lt="",this.kt="",this.Dt="",this.Ft="",this.$t="",this.zt="",this.objectives=new g.B({errorCode:h.Rf.READ_ONLY_ELEMENT,errorClass:l,children:u.zR.objectives_children}),this.correct_responses=new g.B({errorCode:h.Rf.READ_ONLY_ELEMENT,errorClass:l,children:u.zR.correct_responses_children})},Object.defineProperty(e.prototype,"id",{get:function(){return this.At},set:function(t){d(t,b.xt.CMILongIdentifier)&&(this.At=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this.yt},set:function(t){if(this.initialized&&""===this.At)throw new l(h.Rf.DEPENDENCY_NOT_ESTABLISHED);d(t,b.xt.CMIType)&&(this.yt=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timestamp",{get:function(){return this.Lt},set:function(t){if(this.initialized&&""===this.At)throw new l(h.Rf.DEPENDENCY_NOT_ESTABLISHED);d(t,b.xt.CMITime)&&(this.Lt=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"weighting",{get:function(){return this.kt},set:function(t){if(this.initialized&&""===this.At)throw new l(h.Rf.DEPENDENCY_NOT_ESTABLISHED);d(t,b.xt.CMIDecimal)&&(this.kt=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"learner_response",{get:function(){return this.Dt},set:function(t){if(this.initialized&&(""===this.yt||""===this.At))throw new l(h.Rf.DEPENDENCY_NOT_ESTABLISHED);var e=[],i=_[this.type];if(!i)throw new l(h.Rf.TYPE_MISMATCH);if((null==i?void 0:i.delimiter)?e=t.split(i.delimiter):e[0]=t,0>=e.length||e.length>i.max)throw new l(h.Rf.GENERAL_SET_FAILURE);for(var n=RegExp(i.format),r=0;e.length>r;r++)if(null==i?void 0:i.delimiter2){var s=e[r].split(i.delimiter2);if(2!==s.length)throw new l(h.Rf.TYPE_MISMATCH);if(!s[0].match(n))throw new l(h.Rf.TYPE_MISMATCH);if(!i.format2||!s[1].match(RegExp(i.format2)))throw new l(h.Rf.TYPE_MISMATCH)}else{if(!e[r].match(n))throw new l(h.Rf.TYPE_MISMATCH);if(""!==e[r]&&i.unique)for(var o=0;r>o;o++)if(e[r]===e[o])throw new l(h.Rf.TYPE_MISMATCH)}this.Dt=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"result",{get:function(){return this.Ft},set:function(t){d(t,b.xt.CMIResult)&&(this.Ft=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"latency",{get:function(){return this.$t},set:function(t){if(this.initialized&&""===this.At)throw new l(h.Rf.DEPENDENCY_NOT_ESTABLISHED);d(t,b.xt.CMITimespan)&&(this.$t=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"description",{get:function(){return this.zt},set:function(t){if(this.initialized&&""===this.At)throw new l(h.Rf.DEPENDENCY_NOT_ESTABLISHED);d(t,b.xt.CMILangString250,!0)&&(this.zt=t)},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){this.jsonString=!0;var t={id:this.id,type:this.type,objectives:this.objectives,timestamp:this.timestamp,weighting:this.weighting,learner_response:this.learner_response,result:this.result,latency:this.latency,description:this.description,correct_responses:this.correct_responses};return delete this.jsonString,t},e}(o.J),M=function(t){function e(){var e=t.call(this)||this;return e.At="",e}return(0,r.C6)(e,t),e.prototype.reset=function(){this.ot=!1,this.At=""},Object.defineProperty(e.prototype,"id",{get:function(){return this.At},set:function(t){d(t,b.xt.CMILongIdentifier)&&(this.At=t)},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){this.jsonString=!0;var t={id:this.id};return delete this.jsonString,t},e}(o.J),I=function(t){function e(){var e=t.call(this)||this;return e.Vt="",e}return(0,r.C6)(e,t),e.prototype.reset=function(){this.ot=!1,this.Vt=""},Object.defineProperty(e.prototype,"pattern",{get:function(){return this.Vt},set:function(t){d(t,b.xt.CMIFeedback)&&(this.Vt=t)},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){this.jsonString=!0;var t={pattern:this.pattern};return delete this.jsonString,t},e}(o.J),O=function(t){function e(){var e=t.call(this,{score_children:u.zR.score_children,max:"",invalidErrorCode:h.Rf.READ_ONLY_ELEMENT,invalidTypeCode:h.Rf.TYPE_MISMATCH,invalidRangeCode:h.Rf.VALUE_OUT_OF_RANGE,decimalRegex:b.xt.CMIDecimal,errorClass:l})||this;return e.qt="",e}return(0,r.C6)(e,t),e.prototype.reset=function(){this.ot=!1,this.qt="",this.ct="",this.lt="",this.dt=""},Object.defineProperty(e.prototype,"scaled",{get:function(){return this.qt},set:function(t){d(t,b.xt.CMIDecimal)&&m(t,b.xt.scaled_range)&&(this.qt=t)},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){this.jsonString=!0;var t={scaled:this.scaled,raw:this.raw,min:this.min,max:this.max};return delete this.jsonString,t},e}(i(434).i),T=function(t){function e(){return t.call(this,{children:u.zR.comments_children,errorCode:h.Rf.READ_ONLY_ELEMENT,errorClass:l})||this}return(0,r.C6)(e,t),e}(g.B),N=function(t){function e(){return t.call(this,{children:u.zR.comments_children,errorCode:h.Rf.READ_ONLY_ELEMENT,errorClass:l})||this}return(0,r.C6)(e,t),e}(g.B),C=function(t){function e(e){void 0===e&&(e=!1);var i=t.call(this)||this;return i.Gt="",i.Ut="",i.Lt="",i.Gt="",i.Ut="",i.Lt="",i.Pt=e,i}return(0,r.C6)(e,t),e.prototype.reset=function(){this.ot=!1},Object.defineProperty(e.prototype,"comment",{get:function(){return this.Gt},set:function(t){if(this.initialized&&this.Pt)throw new l(h.Rf.READ_ONLY_ELEMENT);d(t,b.xt.CMILangString4000,!0)&&(this.Gt=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"location",{get:function(){return this.Ut},set:function(t){if(this.initialized&&this.Pt)throw new l(h.Rf.READ_ONLY_ELEMENT);d(t,b.xt.CMIString250)&&(this.Ut=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timestamp",{get:function(){return this.Lt},set:function(t){if(this.initialized&&this.Pt)throw new l(h.Rf.READ_ONLY_ELEMENT);d(t,b.xt.CMITime)&&(this.Lt=t)},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){this.jsonString=!0;var t={comment:this.comment,location:this.location,timestamp:this.timestamp};return delete this.jsonString,t},e}(o.J),R=function(t){function e(){return t.call(this,{children:u.zR.objectives_children,errorCode:h.Rf.READ_ONLY_ELEMENT,errorClass:l})||this}return(0,r.C6)(e,t),e.prototype.findObjectiveById=function(t){return this.childArray.find((function(e){return e.id===t}))},e.prototype.findObjectiveByIndex=function(t){return this.childArray[t]},e.prototype.setObjectiveByIndex=function(t,e){this.childArray[t]=e},e}(g.B),j=function(t){function e(){var e=t.call(this)||this;return e.At="",e.Bt="unknown",e.Zt="unknown",e.Ht="",e.zt="",e.score=new O,e}return(0,r.C6)(e,t),e.prototype.reset=function(){this.ot=!1},e.prototype.initialize=function(){var e;t.prototype.initialize.call(this),null===(e=this.score)||void 0===e||e.initialize()},Object.defineProperty(e.prototype,"id",{get:function(){return this.At},set:function(t){d(t,b.xt.CMILongIdentifier)&&(this.At=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"success_status",{get:function(){return this.Bt},set:function(t){if(this.initialized&&""===this.At)throw new l(h.Rf.DEPENDENCY_NOT_ESTABLISHED);d(t,b.xt.CMISStatus)&&(this.Bt=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"completion_status",{get:function(){return this.Zt},set:function(t){if(this.initialized&&""===this.At)throw new l(h.Rf.DEPENDENCY_NOT_ESTABLISHED);d(t,b.xt.CMICStatus)&&(this.Zt=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"progress_measure",{get:function(){return this.Ht},set:function(t){if(this.initialized&&""===this.At)throw new l(h.Rf.DEPENDENCY_NOT_ESTABLISHED);d(t,b.xt.CMIDecimal)&&m(t,b.xt.progress_range)&&(this.Ht=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"description",{get:function(){return this.zt},set:function(t){if(this.initialized&&""===this.At)throw new l(h.Rf.DEPENDENCY_NOT_ESTABLISHED);d(t,b.xt.CMILangString250,!0)&&(this.zt=t)},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){this.jsonString=!0;var t={id:this.id,success_status:this.success_status,completion_status:this.completion_status,progress_measure:this.progress_measure,description:this.description,score:this.score};return delete this.jsonString,t},e}(o.J),S=function(t){function e(){var e=t.call(this)||this;return e.Yt="1.0",e.ht=u.zR.cmi_children,e}return(0,r.C6)(e,t),Object.defineProperty(e.prototype,"Wt",{get:function(){return this.Yt},set:function(t){throw new l(h.Rf.READ_ONLY_ELEMENT)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Et",{get:function(){return this.ht},set:function(t){throw new l(h.Rf.READ_ONLY_ELEMENT)},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this.ot=!1},e}(o.J),A=function(t){function e(){var e=t.call(this)||this;return e.Jt="",e.Kt="",e}return(0,r.C6)(e,t),Object.defineProperty(e.prototype,"learner_id",{get:function(){return this.Jt},set:function(t){if(this.initialized)throw new l(h.Rf.READ_ONLY_ELEMENT);this.Jt=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"learner_name",{get:function(){return this.Kt},set:function(t){if(this.initialized)throw new l(h.Rf.READ_ONLY_ELEMENT);this.Kt=t},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this.ot=!1},e}(o.J),y=function(t){function e(){var e=t.call(this)||this;return e.Zt="unknown",e.Bt="unknown",e.Ht="",e}return(0,r.C6)(e,t),Object.defineProperty(e.prototype,"completion_status",{get:function(){return this.Zt},set:function(t){d(t,b.xt.CMICStatus)&&(this.Zt=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"success_status",{get:function(){return this.Bt},set:function(t){d(t,b.xt.CMISStatus)&&(this.Bt=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"progress_measure",{get:function(){return this.Ht},set:function(t){d(t,b.xt.CMIDecimal)&&m(t,b.xt.progress_range)&&(this.Ht=t)},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this.ot=!1,this.Zt="incomplete",this.Bt="unknown",this.Ht=""},e}(o.J),L=i(864),x=function(t){function e(){var e=t.call(this)||this;return e.Qt="",e.Xt="",e.te="PT0H0M0S",e.ee="",e}return(0,r.C6)(e,t),Object.defineProperty(e.prototype,"entry",{get:function(){return this.Qt},set:function(t){if(this.initialized)throw new l(h.Rf.READ_ONLY_ELEMENT);this.Qt=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exit",{get:function(){if(!this.jsonString)throw new l(h.Rf.WRITE_ONLY_ELEMENT);return this.Xt},set:function(t){d(t,b.xt.CMIExit,!0)&&(this.Xt=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"session_time",{get:function(){if(!this.jsonString)throw new l(h.Rf.WRITE_ONLY_ELEMENT);return this.te},set:function(t){d(t,b.xt.CMITimespan)&&(this.te=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"total_time",{get:function(){return this.ee},set:function(t){if(this.initialized)throw new l(h.Rf.READ_ONLY_ELEMENT);this.ee=t},enumerable:!1,configurable:!0}),e.prototype.getCurrentTotalTime=function(){var t=this.te,e=this.start_time;if(null!=e){var i=(new Date).getTime()-e;t=L.xE(i/1e3)}return L.$o(this.ee,t,b.xt.CMITimespan)},e.prototype.reset=function(){this.ot=!1,this.Qt="",this.Xt="",this.te="PT0H0M0S"},e}(o.J),k=function(t){function e(){var e=t.call(this)||this;return e.Ut="",e.ie="",e.ne="",e}return(0,r.C6)(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return this.Ut},set:function(t){d(t,b.xt.CMIString1000)&&(this.Ut=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"launch_data",{get:function(){return this.ie},set:function(t){if(this.initialized)throw new l(h.Rf.READ_ONLY_ELEMENT);this.ie=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"suspend_data",{get:function(){return this.ne},set:function(t){d(t,b.xt.CMIString64000,!0)&&(this.ne=t)},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this.ot=!1,this.Ut="",this.ne=""},e}(o.J),D=function(t){function e(){var e=t.call(this)||this;return e.re="credit",e.se="normal",e.oe="continue,no message",e.ue="",e}return(0,r.C6)(e,t),Object.defineProperty(e.prototype,"credit",{get:function(){return this.re},set:function(t){if(this.initialized)throw new l(h.Rf.READ_ONLY_ELEMENT);this.re=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mode",{get:function(){return this.se},set:function(t){if(this.initialized)throw new l(h.Rf.READ_ONLY_ELEMENT);this.se=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"time_limit_action",{get:function(){return this.oe},set:function(t){if(this.initialized)throw new l(h.Rf.READ_ONLY_ELEMENT);this.oe=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"max_time_allowed",{get:function(){return this.ue},set:function(t){if(this.initialized)throw new l(h.Rf.READ_ONLY_ELEMENT);this.ue=t},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this.ot=!1},e}(o.J),F=function(t){function e(){var e=t.call(this)||this;return e.ae="",e.ce="",e}return(0,r.C6)(e,t),Object.defineProperty(e.prototype,"scaled_passing_score",{get:function(){return this.ae},set:function(t){if(this.initialized)throw new l(h.Rf.READ_ONLY_ELEMENT);this.ae=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"completion_threshold",{get:function(){return this.ce},set:function(t){if(this.initialized)throw new l(h.Rf.READ_ONLY_ELEMENT);this.ce=t},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this.ot=!1},e}(o.J),$=function(t){function e(e){void 0===e&&(e=!1);var i=t.call(this)||this;return i.metadata=new S,i.learner=new A,i.status=new y,i.session=new x,i.content=new k,i.settings=new D,i.thresholds=new F,i.learner_preference=new v,i.score=new O,i.comments_from_learner=new N,i.comments_from_lms=new T,i.interactions=new w,i.objectives=new R,e&&i.initialize(),i}return(0,r.C6)(e,t),e.prototype.initialize=function(){var e,i,n,r,s,o,u,a,c,l,h,f,d;t.prototype.initialize.call(this),null===(e=this.metadata)||void 0===e||e.initialize(),null===(i=this.learner)||void 0===i||i.initialize(),null===(n=this.status)||void 0===n||n.initialize(),null===(r=this.session)||void 0===r||r.initialize(),null===(s=this.content)||void 0===s||s.initialize(),null===(o=this.settings)||void 0===o||o.initialize(),null===(u=this.thresholds)||void 0===u||u.initialize(),null===(a=this.learner_preference)||void 0===a||a.initialize(),null===(c=this.score)||void 0===c||c.initialize(),null===(l=this.comments_from_learner)||void 0===l||l.initialize(),null===(h=this.comments_from_lms)||void 0===h||h.initialize(),null===(f=this.interactions)||void 0===f||f.initialize(),null===(d=this.objectives)||void 0===d||d.initialize()},e.prototype.reset=function(){var t,e,i,n,r,s,o,u,a,c,l,h,f;this.ot=!1,null===(t=this.metadata)||void 0===t||t.reset(),null===(e=this.learner)||void 0===e||e.reset(),null===(i=this.status)||void 0===i||i.reset(),null===(n=this.session)||void 0===n||n.reset(),null===(r=this.content)||void 0===r||r.reset(),null===(s=this.settings)||void 0===s||s.reset(),null===(o=this.thresholds)||void 0===o||o.reset(),null===(u=this.objectives)||void 0===u||u.reset(!1),null===(a=this.interactions)||void 0===a||a.reset(!0),null===(c=this.score)||void 0===c||c.reset(),null===(l=this.comments_from_learner)||void 0===l||l.reset(),null===(h=this.comments_from_lms)||void 0===h||h.reset(),null===(f=this.learner_preference)||void 0===f||f.reset()},Object.defineProperty(e.prototype,"Wt",{get:function(){return this.metadata.Wt},set:function(t){this.metadata.Wt=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Et",{get:function(){return this.metadata.Et},set:function(t){this.metadata.Et=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"completion_status",{get:function(){return this.status.completion_status},set:function(t){this.status.completion_status=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"completion_threshold",{get:function(){return this.thresholds.completion_threshold},set:function(t){this.thresholds.completion_threshold=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"credit",{get:function(){return this.settings.credit},set:function(t){this.settings.credit=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"entry",{get:function(){return this.session.entry},set:function(t){this.session.entry=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exit",{get:function(){return this.session.jsonString=this.jsonString,this.session.exit},set:function(t){this.session.exit=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"launch_data",{get:function(){return this.content.launch_data},set:function(t){this.content.launch_data=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"learner_id",{get:function(){return this.learner.learner_id},set:function(t){this.learner.learner_id=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"learner_name",{get:function(){return this.learner.learner_name},set:function(t){this.learner.learner_name=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"location",{get:function(){return this.content.location},set:function(t){this.content.location=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"max_time_allowed",{get:function(){return this.settings.max_time_allowed},set:function(t){this.settings.max_time_allowed=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mode",{get:function(){return this.settings.mode},set:function(t){this.settings.mode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"progress_measure",{get:function(){return this.status.progress_measure},set:function(t){this.status.progress_measure=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaled_passing_score",{get:function(){return this.thresholds.scaled_passing_score},set:function(t){this.thresholds.scaled_passing_score=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"session_time",{get:function(){return this.session.jsonString=this.jsonString,this.session.session_time},set:function(t){this.session.session_time=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"success_status",{get:function(){return this.status.success_status},set:function(t){this.status.success_status=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"suspend_data",{get:function(){return this.content.suspend_data},set:function(t){this.content.suspend_data=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"time_limit_action",{get:function(){return this.settings.time_limit_action},set:function(t){this.settings.time_limit_action=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"total_time",{get:function(){return this.session.total_time},set:function(t){this.session.total_time=t},enumerable:!1,configurable:!0}),e.prototype.getCurrentTotalTime=function(){return this.session.getCurrentTotalTime()},e.prototype.toJSON=function(){this.jsonString=!0,this.session.jsonString=!0;var t={comments_from_learner:this.comments_from_learner,comments_from_lms:this.comments_from_lms,completion_status:this.completion_status,completion_threshold:this.completion_threshold,credit:this.credit,entry:this.entry,exit:this.exit,interactions:this.interactions,launch_data:this.launch_data,learner_id:this.learner_id,learner_name:this.learner_name,learner_preference:this.learner_preference,location:this.location,max_time_allowed:this.max_time_allowed,mode:this.mode,objectives:this.objectives,progress_measure:this.progress_measure,scaled_passing_score:this.scaled_passing_score,score:this.score,session_time:this.session_time,success_status:this.success_status,suspend_data:this.suspend_data,time_limit_action:this.time_limit_action};return delete this.jsonString,delete this.session.jsonString,t},e}(o.r),z=i(56),V=function(t){function e(){var e=t.call(this)||this;return e.data=new G,e.nav=new q,e.data=new G,e}return(0,r.C6)(e,t),e.prototype.initialize=function(){var e;t.prototype.initialize.call(this),null===(e=this.nav)||void 0===e||e.initialize()},e.prototype.reset=function(){var t;this.ot=!1,null===(t=this.nav)||void 0===t||t.reset()},e.prototype.toJSON=function(){this.jsonString=!0;var t={nav:this.nav,data:this.data};return delete this.jsonString,t},e}(o.J),q=function(t){function e(){var e=t.call(this)||this;return e.le="_none_",e.request_valid=new P,e}return(0,r.C6)(e,t),e.prototype.initialize=function(){var e;t.prototype.initialize.call(this),null===(e=this.request_valid)||void 0===e||e.initialize()},e.prototype.reset=function(){var t;this.ot=!1,this.le="_none_",null===(t=this.request_valid)||void 0===t||t.reset()},Object.defineProperty(e.prototype,"request",{get:function(){return this.le},set:function(t){d(t,b.xt.NAVEvent)&&(this.le=t)},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){this.jsonString=!0;var t={request:this.request};return delete this.jsonString,t},e}(o.J),G=function(t){function e(){return t.call(this,{children:u.zR.adl_data_children,errorCode:h.Rf.READ_ONLY_ELEMENT,errorClass:l})||this}return(0,r.C6)(e,t),e}(g.B),U=function(t){function e(){var e=t.call(this)||this;return e.At="",e.he="",e}return(0,r.C6)(e,t),e.prototype.reset=function(){this.ot=!1},Object.defineProperty(e.prototype,"id",{get:function(){return this.At},set:function(t){d(t,b.xt.CMILongIdentifier)&&(this.At=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"store",{get:function(){return this.he},set:function(t){d(t,b.xt.CMILangString4000)&&(this.he=t)},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){this.jsonString=!0;var t={id:this.At,store:this.he};return delete this.jsonString,t},e}(o.J),P=function(t){function e(){var e=t.call(this)||this;return e.fe="unknown",e.de="unknown",e.me={},e.be={},e}return(0,r.C6)(e,t),e.prototype.reset=function(){this.ot=!1,this.fe="unknown",this.de="unknown"},Object.defineProperty(e.prototype,"continue",{get:function(){return this.fe},set:function(t){if(this.initialized)throw new l(h.Rf.READ_ONLY_ELEMENT);d(t,b.xt.NAVBoolean)&&(this.fe=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previous",{get:function(){return this.de},set:function(t){if(this.initialized)throw new l(h.Rf.READ_ONLY_ELEMENT);d(t,b.xt.NAVBoolean)&&(this.de=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"choice",{get:function(){return this.me},set:function(t){if(this.initialized)throw new l(h.Rf.READ_ONLY_ELEMENT);if("object"!=typeof t)throw new l(h.Rf.TYPE_MISMATCH);for(var e in t)({}).hasOwnProperty.call(t,e)&&d(t[e],b.xt.NAVBoolean)&&d(e,b.xt.NAVTarget)&&(this.me[e]=z.K$[t[e]])},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"jump",{get:function(){return this.be},set:function(t){if(this.initialized)throw new l(h.Rf.READ_ONLY_ELEMENT);if("object"!=typeof t)throw new l(h.Rf.TYPE_MISMATCH);for(var e in t)({}).hasOwnProperty.call(t,e)&&d(t[e],b.xt.NAVBoolean)&&d(e,b.xt.NAVTarget)&&(this.be[e]=z.K$[t[e]])},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){this.jsonString=!0;var t={previous:this.de,continue:this.fe,choice:this.me,jump:this.be};return delete this.jsonString,t},e}(o.J),B=["aa","ab","ae","af","ak","am","an","ar","as","av","ay","az","ba","be","bg","bh","bi","bm","bn","bo","br","bs","ca","ce","ch","co","cr","cs","cu","cv","cy","da","de","dv","dz","ee","el","en","eo","es","et","eu","fa","ff","fi","fj","fo","fr","fy","ga","gd","gl","gn","gu","gv","ha","he","hi","ho","hr","ht","hu","hy","hz","ia","id","ie","ig","ii","ik","io","is","it","iu","ja","jv","ka","kg","ki","kj","kk","kl","km","kn","ko","kr","ks","ku","kv","kw","ky","la","lb","lg","li","ln","lo","lt","lu","lv","mg","mh","mi","mk","ml","mn","mo","mr","ms","mt","my","na","nb","nd","ne","ng","nl","nn","no","nr","nv","ny","oc","oj","om","or","os","pa","pi","pl","ps","pt","qu","rm","rn","ro","ru","rw","sa","sc","sd","se","sg","sh","si","sk","sl","sm","sn","so","sq","sr","ss","st","su","sv","sw","ta","te","tg","th","ti","tk","tl","tn","to","tr","ts","tt","tw","ty","ug","uk","ur","uz","ve","vi","vo","wa","wo","xh","yi","yo","za","zh","zu","aar","abk","ave","afr","aka","amh","arg","ara","asm","ava","aym","aze","bak","bel","bul","bih","bis","bam","ben","tib","bod","bre","bos","cat","che","cha","cos","cre","cze","ces","chu","chv","wel","cym","dan","ger","deu","div","dzo","ewe","gre","ell","eng","epo","spa","est","baq","eus","per","fas","ful","fin","fij","fao","fre","fra","fry","gle","gla","glg","grn","guj","glv","hau","heb","hin","hmo","hrv","hat","hun","arm","hye","her","ina","ind","ile","ibo","iii","ipk","ido","ice","isl","ita","iku","jpn","jav","geo","kat","kon","kik","kua","kaz","kal","khm","kan","kor","kau","kas","kur","kom","cor","kir","lat","ltz","lug","lim","lin","lao","lit","lub","lav","mlg","mah","mao","mri","mac","mkd","mal","mon","mol","mar","may","msa","mlt","bur","mya","nau","nob","nde","nep","ndo","dut","nld","nno","nor","nbl","nav","nya","oci","oji","orm","ori","oss","pan","pli","pol","pus","por","que","roh","run","rum","ron","rus","kin","san","srd","snd","sme","sag","slo","sin","slk","slv","smo","sna","som","alb","sqi","srp","ssw","sot","sun","swe","swa","tam","tel","tgk","tha","tir","tuk","tgl","tsn","ton","tur","tso","tat","twi","tah","uig","ukr","urd","uzb","ven","vie","vol","wln","wol","xho","yid","yor","zha","chi","zho","zul"];function Z(t,e,i,n,s,o,u,a){return(0,r.sH)(this,void 0,void 0,(function(){var c,l,h,f,d;return(0,r.YH)(this,(function(r){switch(r.label){case 0:return t&&"normal"===e.mode&&"credit"===e.credit&&(e.completion_threshold&&e.progress_measure&&(e.completion_status=e.completion_threshold>e.progress_measure?"incomplete":"completed"),e.scaled_passing_score&&e.score.scaled&&(e.success_status=e.scaled_passing_score>e.score.scaled?"failed":"passed")),c=!1,i.nav.request!==(null===(d=null===(f=null==n?void 0:n.adl)||void 0===f?void 0:f.nav)||void 0===d?void 0:d.request)&&"_none_"!==i.nav.request&&(c=!0),l=o(t),"string"!=typeof s.lmsCommitUrl?[3,2]:[4,u(s.lmsCommitUrl,{commitObject:l},t)];case 1:return h=r.sent(),c&&void 0!==h.navRequest&&""!==h.navRequest?Function('"use strict";(() => { '.concat(h.navRequest," })()"))():(null==h?void 0:h.navRequest)&&!c&&h.navRequest.name&&a(h.navRequest.name,h.navRequest.data),[2,h];case 2:return[2,{result:"true",errorCode:0}]}}))}))}var H=function(t){function e(e){var i=this;return e&&void 0===e.mastery_override&&(e.mastery_override=!1),(i=t.call(this,h.Rf,e)||this).Wt="1.0",i.ve=[],i.cmi=new $,i.adl=new V,i.Initialize=i.lmsInitialize,i.Terminate=i.lmsFinish,i.GetValue=i.lmsGetValue,i.SetValue=i.lmsSetValue,i.Commit=i.lmsCommit,i.GetLastError=i.lmsGetLastError,i.GetErrorString=i.lmsGetErrorString,i.GetDiagnostic=i.lmsGetDiagnostic,i}return(0,r.C6)(e,t),e.prototype.reset=function(t){var e,i;this.commonReset(t),null===(e=this.cmi)||void 0===e||e.reset(),null===(i=this.adl)||void 0===i||i.reset()},Object.defineProperty(e.prototype,"version",{get:function(){return this.Wt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"globalObjectives",{get:function(){return this.ve},enumerable:!1,configurable:!0}),e.prototype.lmsInitialize=function(){return this.cmi.initialize(),this.initialize("Initialize","LMS was already initialized!","LMS is already finished!")},e.prototype.lmsFinish=function(){return(0,r.sH)(this,void 0,void 0,(function(){return(0,r.YH)(this,(function(t){switch(t.label){case 0:return[4,this.internalFinish()];case 1:return t.sent(),[2]}}))})),u.u.SCORM_TRUE},e.prototype.internalFinish=function(){return(0,r.sH)(this,void 0,void 0,(function(){var t,e,i,n,s,o,a,c,l,h,f;return(0,r.YH)(this,(function(r){switch(r.label){case 0:return[4,this.terminate("Terminate",!0)];case 1:return(t=r.sent())===u.u.SCORM_TRUE&&("_none_"!==this.adl.nav.request?(e={continue:"SequenceNext",previous:"SequencePrevious",choice:"SequenceChoice",jump:"SequenceJump",exit:"SequenceExit",exitAll:"SequenceExitAll",abandon:"SequenceAbandon",abandonAll:"SequenceAbandonAll"},i=this.adl.nav.request,n=RegExp(b.xt.NAVEvent),s=i.match(n),o="",s&&((null===(c=s.groups)||void 0===c?void 0:c.choice_target)?(o=null===(l=s.groups)||void 0===l?void 0:l.choice_target,i="choice"):(null===(h=s.groups)||void 0===h?void 0:h.jump_target)&&(o=null===(f=s.groups)||void 0===f?void 0:f.jump_target,i="jump")),(a=e[i])&&this.processListeners(a,"adl.nav.request",o)):this.settings.autoProgress&&this.processListeners("SequenceNext")),[2,t]}}))}))},e.prototype.lmsGetValue=function(t){var e="^adl\\.nav\\.request_valid\\.(choice|jump)\\.{target=\\S{0,}([a-zA-Z0-9-_]+)}$";if((0,L.J6)(t,e)){var i=t.match(e),n=i[1],r=i[2].replace("{target=","").replace("}","");if("choice"===n||"jump"===n)return this.settings.scoItemIdValidator?this.settings.scoItemIdValidator(r)+"":this.settings.scoItemIds.includes(r)+""}return this.getValue("GetValue",!0,t)},e.prototype.lmsSetValue=function(t,e){return this.setValue("SetValue","Commit",!0,t,e)},e.prototype.lmsCommit=function(){return this.settings.asyncCommit?this.scheduleCommit(500,"Commit"):(0,r.sH)(this,void 0,void 0,(function(){return(0,r.YH)(this,(function(t){switch(t.label){case 0:return[4,this.commit("Commit",!1)];case 1:return t.sent(),[2]}}))})),u.u.SCORM_TRUE},e.prototype.lmsGetLastError=function(){return this.getLastError("GetLastError")},e.prototype.lmsGetErrorString=function(t){return this.getErrorString("GetErrorString",t)},e.prototype.lmsGetDiagnostic=function(t){return this.getDiagnostic("GetDiagnostic",t)},e.prototype.setCMIValue=function(t,e){return function(t,e,i,n,r,s){if((0,L.J6)(t,"cmi\\.objectives\\.\\d+")){var o,u=+t.split(".")[2],a="cmi.objectives.".concat(u);if((0,L.J6)(t,"cmi\\.objectives\\.\\d+\\.id"))o=e;else{var c=s.findObjectiveByIndex(u);o=c?c.id:void 0}if(o&&r.includes(o)){var l=n.findIndex((function(t){return t.id===o}));if(-1===l){l=n.length;var h=new j;h.id=o,n.push(h)}i("SetGlobalObjectiveValue",!0,t.replace(a,"_globalObjectives.".concat(l)),e)}}return i("SetValue",!0,t,e)}(t,e,this.rt.bind(this),this.ve,this.settings.globalObjectiveIds,this.cmi.objectives)},e.prototype.getChildElement=function(t,e,i){return function(t,e,i,n){if((0,L.J6)(t,"cmi\\.objectives\\.\\d+"))return new j;if(i){if((0,L.J6)(t,"cmi\\.interactions\\.\\d+\\.correct_responses\\.\\d+"))return n(t,e);if((0,L.J6)(t,"cmi\\.interactions\\.\\d+\\.objectives\\.\\d+"))return new M}else if((0,L.J6)(t,"cmi\\.interactions\\.\\d+"))return new E;return(0,L.J6)(t,"cmi\\.comments_from_learner\\.\\d+")?new C:(0,L.J6)(t,"cmi\\.comments_from_lms\\.\\d+")?new C(!0):(0,L.J6)(t,"adl\\.data\\.\\d+")?new U:null}(t,e,i,this.createCorrectResponsesObject.bind(this))},e.prototype.createCorrectResponsesObject=function(t,e){return function(t,e,i,n,r,s,o,u,a){var c=i[+t.split(".")[2]];if(u){if(void 0===c||!c.type)return n(h.Rf.DEPENDENCY_NOT_ESTABLISHED),null;r(c,e,n,o);var l=p[c.type];if(!l)return n(h.Rf.GENERAL_SET_FAILURE,"Incorrect Response Type: "+c.type),null;s(l,e,c.type,n,a)}return"0"===o?new I:null}(t,e,this.cmi.interactions.childArray,this.throwSCORMError.bind(this),this.checkDuplicateChoiceResponse.bind(this),this.checkValidResponseType.bind(this),this.lastErrorCode,this.isInitialized(),this.checkCorrectResponseValue.bind(this))},e.prototype.checkValidResponseType=function(t,e,i){!function(t,e,i,n,r){var s=[];(null==t?void 0:t.delimiter)?s=(e+"").split(t.delimiter):s[0]=e,s.length>0&&t.max>=s.length?r(i,s,e):s.length>t.max&&n(h.Rf.GENERAL_SET_FAILURE,"Data Model Element Pattern Too Long")}(t,e,i,this.throwSCORMError.bind(this),this.checkCorrectResponseValue.bind(this))},e.prototype.checkDuplicateChoiceResponse=function(t,e){!function(t,e,i,n){var r=t.correct_responses.Ot;if("choice"===t.type)for(var s=0;r>s&&"0"===n;s++)t.correct_responses.childArray[s].pattern===e&&i(h.Rf.GENERAL_SET_FAILURE)}(t,e,this.throwSCORMError.bind(this),this.lastErrorCode)},e.prototype.validateCorrectResponse=function(t,e){var i=t.split(".");!function(t,e,i,n,r,s,o,u,a){var c=+t.split(".")[4],l=i.correct_responses.Ot;s(i,e,n,r);var f=p[i.type];void 0!==f.limit&&l>f.limit?n(h.Rf.GENERAL_SET_FAILURE,"Data Model Element Collection Limit Reached"):(o(f,e,i.type,n,a),"0"===r&&(!f.duplicate||!u(i.correct_responses,c,e))||"0"===r&&""===e||"0"===r&&n(h.Rf.GENERAL_SET_FAILURE,"Data Model Element Pattern Already Exists"))}(t,e,this.cmi.interactions.childArray[+i[2]],this.throwSCORMError.bind(this),this.lastErrorCode,this.checkDuplicateChoiceResponse.bind(this),this.checkValidResponseType.bind(this),this.checkDuplicatedPattern.bind(this),this.checkCorrectResponseValue.bind(this))},e.prototype.getCMIValue=function(t){return function(t,e){return e("GetValue",!0,t)}(t,this.st.bind(this))},e.prototype.getLmsErrorMessageDetails=function(t,e){var i="",n="";return u.zR.error_descriptions[t+=""]&&(i=u.zR.error_descriptions[t].basicMessage,n=u.zR.error_descriptions[t].detailMessage),e?n:i},e.prototype.checkDuplicatedPattern=function(t,e,i){return function(t,e,i){for(var n=!1,r=t.Ot,s=0;r>s&&!n;s++)s!==e&&t.childArray[s]===i&&(n=!0);return n}(t,e,i)},e.prototype.checkCorrectResponseValue=function(t,e,i){!function(t,e,i,n,r,s){for(var o=p[t],u=RegExp(o.format),a=0;e.length>a&&"0"===s;a++)if(t.match("^(fill-in|long-fill-in|matching|performance|sequencing)$")&&(e[a]=r(e[a])),null==o?void 0:o.delimiter2){var c=e[a].split(o.delimiter2);2===c.length&&(l=c[0].match(u))&&o.format2&&c[1].match(RegExp(o.format2))||n(h.Rf.TYPE_MISMATCH)}else{var l;if(!(l=e[a].match(u))&&""!==i||!l&&"true-false"===t)n(h.Rf.TYPE_MISMATCH);else if("numeric"===t&&e.length>1)+e[0]>+e[1]&&n(h.Rf.TYPE_MISMATCH);else if(""!==e[a]&&o.unique)for(var f=0;a>f&&"0"===s;f++)e[a]===e[f]&&n(h.Rf.TYPE_MISMATCH)}}(t,e,i,this.throwSCORMError.bind(this),this.removeCorrectResponsePrefixes.bind(this),this.lastErrorCode)},e.prototype.removeCorrectResponsePrefixes=function(t){return function(t,e){for(var i=!1,n=!1,r=!1,s=RegExp("^({(lang|case_matters|order_matters)=([^}]+)})"),o=t.match(s),u=null;o;){switch(o[2]){case"lang":if(u=t.match(b.xt.CMILangcr)){var a=u[3];void 0!==a&&a.length>0&&(B.includes(a.toLowerCase())||e(h.Rf.TYPE_MISMATCH))}r=!0;break;case"case_matters":r||i||n||"true"!==o[3]&&"false"!==o[3]&&e(h.Rf.TYPE_MISMATCH),n=!0;break;case"order_matters":n||r||i||"true"!==o[3]&&"false"!==o[3]&&e(h.Rf.TYPE_MISMATCH),i=!0}o=(t=t.substring(o[1].length)).match(s)}return t}(t,this.throwSCORMError.bind(this))},e.prototype.replaceWithAnotherScormAPI=function(t){this.cmi=t.cmi,this.adl=t.adl},e.prototype.renderCommitCMI=function(t){return function(t,e,i,n){var r=n();t&&(r.cmi.total_time=e.getCurrentTotalTime());var s=[],o=L.Bq(r);switch(i.dataCommitFormat){case"flattened":return L.Bq(r);case"params":for(var u in o)({}).hasOwnProperty.call(o,u)&&s.push("".concat(u,"=").concat(o[u]));return s;default:return r}}(t,this.cmi,this.settings,this.renderCMIToJSONObject.bind(this))},e.prototype.renderCommitObject=function(t){return function(t,e,i){var n=i(t),r=e.getCurrentTotalTime(),s=L.OI(r,b.xt.CMITimespan),o=z.lC.UNKNOWN,u=z.YE.UNKNOWN;e.completion_status&&("completed"===e.completion_status?o=z.lC.COMPLETED:"incomplete"===e.completion_status&&(o=z.lC.INCOMPLETE)),e.success_status&&("passed"===e.success_status?u=z.YE.PASSED:"failed"===e.success_status&&(u=z.YE.FAILED));var a=e.score,c=null;a&&(c={},Number.isNaN(Number.parseFloat(a.raw))||(c.raw=Number.parseFloat(a.raw)),Number.isNaN(Number.parseFloat(a.min))||(c.min=Number.parseFloat(a.min)),Number.isNaN(Number.parseFloat(a.max))||(c.max=Number.parseFloat(a.max)),Number.isNaN(Number.parseFloat(a.scaled))||(c.scaled=Number.parseFloat(a.scaled)));var l={completionStatus:o,successStatus:u,totalTimeSeconds:s,runtimeData:n};return c&&(l.score=c),l}(t,this.cmi,this.renderCommitCMI.bind(this))},e.prototype.storeData=function(t){return(0,r.sH)(this,void 0,void 0,(function(){return(0,r.YH)(this,(function(e){return[2,Z(t,this.cmi,this.adl,this.startingData,this.settings,this.getCommitObject.bind(this),this.processHttpRequest.bind(this),this.processListeners.bind(this))]}))}))},e}(s.A),Y=n.V;export{Y as Scorm2004API};
//# sourceMappingURL=scorm2004.min.js.map