class CrossFrameLMS{constructor(api,targetOrigin="*"){this._api=api,this._origin=targetOrigin,window.addEventListener("message",this._onMessage.bind(this))}_onMessage(ev){const msg=ev.data;msg?.messageId&&msg.method&&this._process(msg,ev.source)}_process(msg,source){let result,error;try{const fn=this._api[msg.method];"function"!=typeof fn?error={message:`Method ${msg.method} not found`}:result=fn.apply(this._api,msg.params)}catch(e){error={message:e.message,stack:e.stack}}source.postMessage({messageId:msg.messageId,result:result,error:error},this._origin)}}export{CrossFrameLMS};
//# sourceMappingURL=cross-frame-lms.min.js.map
