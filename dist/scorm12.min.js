!function(){"use strict";var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};function t(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}var r=function(){return r=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},r.apply(this,arguments)};function i(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))}function n(e,t){var r,i,n,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(r=1,i&&(n=2&a[0]?i.return:a[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,a[1])).done)return n;switch(i=0,n&&(a=[2&a[0],n.value]),a[0]){case 0:case 1:n=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!n||a[1]>n[0]&&a[1]<n[3])){s.label=a[1];break}if(6===a[0]&&s.label<n[1]){s.label=n[1],n=a;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(a);break}n[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],i=0}finally{r=n=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}Object.create;Object.create;"function"==typeof SuppressedError&&SuppressedError;var s={cmi_children:"core,suspend_data,launch_data,comments,objectives,student_data,student_preference,interactions",core_children:"student_id,student_name,lesson_location,credit,lesson_status,entry,score,total_time,lesson_mode,exit,session_time",score_children:"raw,min,max",comments_children:"content,location,time",objectives_children:"id,score,status",correct_responses_children:"pattern",student_data_children:"mastery_score,max_time_allowed,time_limit_action",student_preference_children:"audio,language,speed,text",interactions_children:"id,objectives,time,type,correct_responses,weighting,student_response,result,latency",error_descriptions:{101:{basicMessage:"General Exception",detailMessage:"No specific error code exists to describe the error. Use LMSGetDiagnostic for more information"},201:{basicMessage:"Invalid argument error",detailMessage:"Indicates that an argument represents an invalid data model element or is otherwise incorrect."},202:{basicMessage:"Element cannot have children",detailMessage:'Indicates that LMSGetValue was called with a data model element name that ends in "_children" for a data model element that does not support the "_children" suffix.'},203:{basicMessage:"Element not an array - cannot have count",detailMessage:'Indicates that LMSGetValue was called with a data model element name that ends in "_count" for a data model element that does not support the "_count" suffix.'},301:{basicMessage:"Not initialized",detailMessage:"Indicates that an API call was made before the call to lmsInitialize."},401:{basicMessage:"Not implemented error",detailMessage:"The data model element indicated in a call to LMSGetValue or LMSSetValue is valid, but was not implemented by this LMS. SCORM 1.2 defines a set of data model elements as being optional for an LMS to implement."},402:{basicMessage:"Invalid set value, element is a keyword",detailMessage:'Indicates that LMSSetValue was called on a data model element that represents a keyword (elements that end in "_children" and "_count").'},403:{basicMessage:"Element is read only",detailMessage:"LMSSetValue was called with a data model element that can only be read."},404:{basicMessage:"Element is write only",detailMessage:"LMSGetValue was called on a data model element that can only be written to."},405:{basicMessage:"Incorrect Data Type",detailMessage:"LMSSetValue was called with a value that is not consistent with the data format of the supplied data model element."},407:{basicMessage:"Element Value Out Of Range",detailMessage:"The numeric value supplied to a LMSSetValue call is outside of the numeric range allowed for the supplied data model element."},408:{basicMessage:"Data Model Dependency Not Established",detailMessage:"Some data model elements cannot be set until another data model element was set. This error condition indicates that the prerequisite element was not set before the dependent element."}}},o={global:{SCORM_TRUE:"true",SCORM_FALSE:"false",STATE_NOT_INITIALIZED:0,STATE_INITIALIZED:1,STATE_TERMINATED:2,LOG_LEVEL_DEBUG:1,LOG_LEVEL_INFO:2,LOG_LEVEL_WARNING:3,LOG_LEVEL_ERROR:4,LOG_LEVEL_NONE:5},scorm12:s,aicc:r(r({},s),{cmi_children:"core,suspend_data,launch_data,comments,objectives,student_data,student_preference,interactions,evaluation",student_preference_children:"audio,language,lesson_type,speed,text,text_color,text_location,text_size,video,windows",student_data_children:"attempt_number,tries,mastery_score,max_time_allowed,time_limit_action",student_demographics_children:"city,class,company,country,experience,familiar_name,instructor_name,title,native_language,state,street_address,telephone,years_experience",tries_children:"time,status,score",attempt_records_children:"score,lesson_status",paths_children:"location_id,date,time,status,why_left,time_in_element"}),scorm2004:{cmi_children:"_version,comments_from_learner,comments_from_lms,completion_status,credit,entry,exit,interactions,launch_data,learner_id,learner_name,learner_preference,location,max_time_allowed,mode,objectives,progress_measure,scaled_passing_score,score,session_time,success_status,suspend_data,time_limit_action,total_time",comments_children:"comment,timestamp,location",score_children:"max,raw,scaled,min",objectives_children:"progress_measure,completion_status,success_status,description,score,id",correct_responses_children:"pattern",student_data_children:"mastery_score,max_time_allowed,time_limit_action",student_preference_children:"audio_level,audio_captioning,delivery_speed,language",interactions_children:"id,type,objectives,timestamp,correct_responses,weighting,learner_response,result,latency,description",error_descriptions:{0:{basicMessage:"No Error",detailMessage:"No error occurred, the previous API call was successful."},101:{basicMessage:"General Exception",detailMessage:"No specific error code exists to describe the error. Use GetDiagnostic for more information."},102:{basicMessage:"General Initialization Failure",detailMessage:"Call to Initialize failed for an unknown reason."},103:{basicMessage:"Already Initialized",detailMessage:"Call to Initialize failed because Initialize was already called."},104:{basicMessage:"Content Instance Terminated",detailMessage:"Call to Initialize failed because Terminate was already called."},111:{basicMessage:"General Termination Failure",detailMessage:"Call to Terminate failed for an unknown reason."},112:{basicMessage:"Termination Before Initialization",detailMessage:"Call to Terminate failed because it was made before the call to Initialize."},113:{basicMessage:"Termination After Termination",detailMessage:"Call to Terminate failed because Terminate was already called."},122:{basicMessage:"Retrieve Data Before Initialization",detailMessage:"Call to GetValue failed because it was made before the call to Initialize."},123:{basicMessage:"Retrieve Data After Termination",detailMessage:"Call to GetValue failed because it was made after the call to Terminate."},132:{basicMessage:"Store Data Before Initialization",detailMessage:"Call to SetValue failed because it was made before the call to Initialize."},133:{basicMessage:"Store Data After Termination",detailMessage:"Call to SetValue failed because it was made after the call to Terminate."},142:{basicMessage:"Commit Before Initialization",detailMessage:"Call to Commit failed because it was made before the call to Initialize."},143:{basicMessage:"Commit After Termination",detailMessage:"Call to Commit failed because it was made after the call to Terminate."},201:{basicMessage:"General Argument Error",detailMessage:"An invalid argument was passed to an API method (usually indicates that Initialize, Commit or Terminate did not receive the expected empty string argument."},301:{basicMessage:"General Get Failure",detailMessage:"Indicates a failed GetValue call where no other specific error code is applicable. Use GetDiagnostic for more information."},351:{basicMessage:"General Set Failure",detailMessage:"Indicates a failed SetValue call where no other specific error code is applicable. Use GetDiagnostic for more information."},391:{basicMessage:"General Commit Failure",detailMessage:"Indicates a failed Commit call where no other specific error code is applicable. Use GetDiagnostic for more information."},401:{basicMessage:"Undefined Data Model Element",detailMessage:"The data model element name passed to GetValue or SetValue is not a valid SCORM data model element."},402:{basicMessage:"Unimplemented Data Model Element",detailMessage:"The data model element indicated in a call to GetValue or SetValue is valid, but was not implemented by this LMS. In SCORM 2004, this error would indicate an LMS that is not fully SCORM conformant."},403:{basicMessage:"Data Model Element Value Not Initialized",detailMessage:"Attempt to read a data model element that has not been initialized by the LMS or through a SetValue call. This error condition is often reached during normal execution of a SCO."},404:{basicMessage:"Data Model Element Is Read Only",detailMessage:"SetValue was called with a data model element that can only be read."},405:{basicMessage:"Data Model Element Is Write Only",detailMessage:"GetValue was called on a data model element that can only be written to."},406:{basicMessage:"Data Model Element Type Mismatch",detailMessage:"SetValue was called with a value that is not consistent with the data format of the supplied data model element."},407:{basicMessage:"Data Model Element Value Out Of Range",detailMessage:"The numeric value supplied to a SetValue call is outside of the numeric range allowed for the supplied data model element."},408:{basicMessage:"Data Model Dependency Not Established",detailMessage:"Some data model elements cannot be set until another data model element was set. This error condition indicates that the prerequisite element was not set before the dependent element."}}}},a={GENERAL:101,INITIALIZATION_FAILED:101,INITIALIZED:101,TERMINATED:101,TERMINATION_FAILURE:101,TERMINATION_BEFORE_INIT:101,MULTIPLE_TERMINATION:101,RETRIEVE_BEFORE_INIT:101,RETRIEVE_AFTER_TERM:101,STORE_BEFORE_INIT:101,STORE_AFTER_TERM:101,COMMIT_BEFORE_INIT:101,COMMIT_AFTER_TERM:101,ARGUMENT_ERROR:101,CHILDREN_ERROR:101,COUNT_ERROR:101,GENERAL_GET_FAILURE:101,GENERAL_SET_FAILURE:101,GENERAL_COMMIT_FAILURE:101,UNDEFINED_DATA_MODEL:101,UNIMPLEMENTED_ELEMENT:101,VALUE_NOT_INITIALIZED:101,INVALID_SET_VALUE:101,READ_ONLY_ELEMENT:101,WRITE_ONLY_ELEMENT:101,TYPE_MISMATCH:101,VALUE_OUT_OF_RANGE:101,DEPENDENCY_NOT_ESTABLISHED:101},c={scorm12:r(r({},a),{RETRIEVE_BEFORE_INIT:301,STORE_BEFORE_INIT:301,COMMIT_BEFORE_INIT:301,ARGUMENT_ERROR:201,CHILDREN_ERROR:202,COUNT_ERROR:203,UNDEFINED_DATA_MODEL:401,UNIMPLEMENTED_ELEMENT:401,VALUE_NOT_INITIALIZED:301,INVALID_SET_VALUE:402,READ_ONLY_ELEMENT:403,WRITE_ONLY_ELEMENT:404,TYPE_MISMATCH:405,VALUE_OUT_OF_RANGE:407,DEPENDENCY_NOT_ESTABLISHED:408}),scorm2004:r(r({},a),{INITIALIZATION_FAILED:102,INITIALIZED:103,TERMINATED:104,TERMINATION_FAILURE:111,TERMINATION_BEFORE_INIT:112,MULTIPLE_TERMINATIONS:113,RETRIEVE_BEFORE_INIT:122,RETRIEVE_AFTER_TERM:123,STORE_BEFORE_INIT:132,STORE_AFTER_TERM:133,COMMIT_BEFORE_INIT:142,COMMIT_AFTER_TERM:143,ARGUMENT_ERROR:201,GENERAL_GET_FAILURE:301,GENERAL_SET_FAILURE:351,GENERAL_COMMIT_FAILURE:391,UNDEFINED_DATA_MODEL:401,UNIMPLEMENTED_ELEMENT:402,VALUE_NOT_INITIALIZED:403,READ_ONLY_ELEMENT:404,WRITE_ONLY_ELEMENT:405,TYPE_MISMATCH:406,VALUE_OUT_OF_RANGE:407,DEPENDENCY_NOT_ESTABLISHED:408})},l={CMIString256:"^.{0,255}$",CMIString4096:"^.{0,4096}$",CMITime:"^(?:[01]\\d|2[0123]):(?:[012345]\\d):(?:[012345]\\d)$",CMITimespan:"^([0-9]{2,}):([0-9]{2}):([0-9]{2})(.[0-9]{1,2})?$",CMIInteger:"^\\d+$",CMISInteger:"^-?([0-9]+)$",CMIDecimal:"^-?([0-9]{0,3})(.[0-9]*)?$",CMIIdentifier:"^[\\u0021-\\u007E\\s]{0,255}$",CMIFeedback:"^.{0,255}$",CMIIndex:"[._](\\d+).",CMIStatus:"^(passed|completed|failed|incomplete|browsed)$",CMIStatus2:"^(passed|completed|failed|incomplete|browsed|not attempted)$",CMIExit:"^(time-out|suspend|logout|)$",CMIType:"^(true-false|choice|fill-in|matching|performance|sequencing|likert|numeric)$",CMIResult:"^(correct|wrong|unanticipated|neutral|([0-9]{0,3})?(\\.[0-9]*)?)$",NAVEvent:"^(previous|continue)$",score_range:"0#100",audio_range:"-1#100",speed_range:"-100#100",weighting_range:"-100#100",text_range:"-1#1"},u={aicc:r(r({},l),{CMIIdentifier:"^\\w{1,255}$"}),scorm12:l,scorm2004:{CMIString200:"^[\\u0000-\\uFFFF]{0,200}$",CMIString250:"^[\\u0000-\\uFFFF]{0,250}$",CMIString1000:"^[\\u0000-\\uFFFF]{0,1000}$",CMIString4000:"^[\\u0000-\\uFFFF]{0,4000}$",CMIString64000:"^[\\u0000-\\uFFFF]{0,64000}$",CMILang:"^([a-zA-Z]{2,3}|i|x)(-[a-zA-Z0-9-]{2,8})?$|^$",CMILangString250:"^({lang=([a-zA-Z]{2,3}|i|x)(-[a-zA-Z0-9-]{2,8})?})?((?!{.*$).{0,250}$)?$",CMILangcr:"^(({lang=([a-zA-Z]{2,3}|i|x)?(-[a-zA-Z0-9-]{2,8})?}))(.*?)$",CMILangString250cr:"^(({lang=([a-zA-Z]{2,3}|i|x)?(-[a-zA-Z0-9-]{2,8})?})?(.{0,250})?)?$",CMILangString4000:"^({lang=([a-zA-Z]{2,3}|i|x)(-[a-zA-Z0-9-]{2,8})?})?((?!{.*$).{0,4000}$)?$",CMITime:"^(19[7-9]{1}[0-9]{1}|20[0-2]{1}[0-9]{1}|203[0-8]{1})((-(0[1-9]{1}|1[0-2]{1}))((-(0[1-9]{1}|[1-2]{1}[0-9]{1}|3[0-1]{1}))(T([0-1]{1}[0-9]{1}|2[0-3]{1})((:[0-5]{1}[0-9]{1})((:[0-5]{1}[0-9]{1})((\\.[0-9]{1,2})((Z|([+|-]([0-1]{1}[0-9]{1}|2[0-3]{1})))(:[0-5]{1}[0-9]{1})?)?)?)?)?)?)?)?$",CMITimespan:"^P(?:([.,\\d]+)Y)?(?:([.,\\d]+)M)?(?:([.,\\d]+)W)?(?:([.,\\d]+)D)?(?:T?(?:([.,\\d]+)H)?(?:([.,\\d]+)M)?(?:([.,\\d]+)S)?)?$",CMIInteger:"^\\d+$",CMISInteger:"^-?([0-9]+)$",CMIDecimal:"^-?([0-9]{1,5})(\\.[0-9]{1,18})?$",CMIIdentifier:"^\\S{1,250}[a-zA-Z0-9]$",CMIShortIdentifier:"^[\\w\\.\\-\\_]{1,250}$",CMILongIdentifier:"^(?:(?!urn:)\\S{1,4000}|urn:[A-Za-z0-9-]{1,31}:\\S{1,4000}|.{1,4000})$",CMIFeedback:"^.*$",CMIIndex:"[._](\\d+).",CMIIndexStore:".N(\\d+).",CMICStatus:"^(completed|incomplete|not attempted|unknown)$",CMISStatus:"^(passed|failed|unknown)$",CMIExit:"^(time-out|suspend|logout|normal)$",CMIType:"^(true-false|choice|fill-in|long-fill-in|matching|performance|sequencing|likert|numeric|other)$",CMIResult:"^(correct|incorrect|unanticipated|neutral|-?([0-9]{1,4})(\\.[0-9]{1,18})?)$",NAVEvent:"^(previous|continue|exit|exitAll|abandon|abandonAll|suspendAll|{target=\\S{0,200}[a-zA-Z0-9]}choice|jump)$",NAVBoolean:"^(unknown|true|false$)",NAVTarget:"^(previous|continue|choice.{target=\\S{0,200}[a-zA-Z0-9]})$",scaled_range:"-1#1",audio_range:"0#*",speed_range:"0#*",text_range:"-1#1",progress_range:"0#1"}},_=o.scorm12,d=u.scorm12,h=c.scorm12,m=function(e){function r(t){var r=e.call(this,t.toString())||this;return r._errorCode=t,r.name="ScormValidationError",r}return t(r,e),Object.defineProperty(r.prototype,"errorCode",{get:function(){return this._errorCode},enumerable:!1,configurable:!0}),r.prototype.setMessage=function(e){this.message=e},r}(Error),p=function(e){function r(t){var r=e.call(this,t)||this;return r.name="Scorm12ValidationError",r}return t(r,e),r}(m);!function(e){function r(t){var r=e.call(this,t)||this;return r.name="Scorm2004ValidationError",r}t(r,e)}(m);function f(e,t,r,i,n){var s=new RegExp(t),o=e.match(s);if(n&&""===e)return!0;if(void 0===e||!o||""===o[0])throw new i(r);return!0}function E(e,t,r,i){var n=t.split("#");if((e*=1)>=n[0]){if("*"===n[1]||e<=n[1])return!0;throw new i(r)}throw new i(r)}var g=function(){function e(){this.jsonString=!1,this._initialized=!1}return Object.defineProperty(e.prototype,"initialized",{get:function(){return this._initialized},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"start_time",{get:function(){return this._start_time},enumerable:!1,configurable:!0}),e.prototype.initialize=function(){this._initialized=!0},e.prototype.setStartTime=function(){this._start_time=(new Date).getTime()},e}(),M=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return t(r,e),r}(g),I=function(e){function r(t){var r=e.call(this)||this;return r._raw="",r._min="",r.__children=t.score_children||_.score_children,r.__score_range=!!t.score_range&&d.score_range,r._max=t.max||""===t.max?t.max:"100",r.__invalid_error_code=t.invalidErrorCode||h.INVALID_SET_VALUE,r.__invalid_type_code=t.invalidTypeCode||h.TYPE_MISMATCH,r.__invalid_range_code=t.invalidRangeCode||h.VALUE_OUT_OF_RANGE,r.__decimal_regex=t.decimalRegex||d.CMIDecimal,r.__error_class=t.errorClass,r}return t(r,e),Object.defineProperty(r.prototype,"_children",{get:function(){return this.__children},set:function(e){throw new this.__error_class(this.__invalid_error_code)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"raw",{get:function(){return this._raw},set:function(e){!f(e,this.__decimal_regex,this.__invalid_type_code,this.__error_class)||this.__score_range&&!E(e,this.__score_range,this.__invalid_range_code,this.__error_class)||(this._raw=e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"min",{get:function(){return this._min},set:function(e){!f(e,this.__decimal_regex,this.__invalid_type_code,this.__error_class)||this.__score_range&&!E(e,this.__score_range,this.__invalid_range_code,this.__error_class)||(this._min=e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"max",{get:function(){return this._max},set:function(e){!f(e,this.__decimal_regex,this.__invalid_type_code,this.__error_class)||this.__score_range&&!E(e,this.__score_range,this.__invalid_range_code,this.__error_class)||(this._max=e)},enumerable:!1,configurable:!0}),r.prototype.toJSON=function(){this.jsonString=!0;var e={raw:this.raw,min:this.min,max:this.max};return delete this.jsonString,e},r}(g),y=function(e){function r(t){var r=e.call(this)||this;return r.__children=t.children,r._errorCode=t.errorCode||h.GENERAL,r._errorClass=t.errorClass||p,r.childArray=[],r}return t(r,e),Object.defineProperty(r.prototype,"_children",{get:function(){return this.__children},set:function(e){throw new this._errorClass(this._errorCode)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"_count",{get:function(){return this.childArray.length},set:function(e){throw new this._errorClass(this._errorCode)},enumerable:!1,configurable:!0}),r.prototype.toJSON=function(){this.jsonString=!0;for(var e={},t=0;t<this.childArray.length;t++)e[t+""]=this.childArray[t];return delete this.jsonString,e},r}(g),L=o.scorm12.error_descriptions,b=o.aicc.error_descriptions,S=o.scorm2004.error_descriptions,O=function(e){function r(t,r,i){var n=e.call(this,t)||this;return n._detailedMessage="",n.setMessage(r),n._errorMessage=r,i&&(n._detailedMessage=i),n}return t(r,e),Object.defineProperty(r.prototype,"errorMessage",{get:function(){return this._errorMessage},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"detailedMessage",{get:function(){return this._detailedMessage},enumerable:!1,configurable:!0}),r}(m),T=function(e){function r(t){return{}.hasOwnProperty.call(L,String(t))?e.call(this,t,L[String(t)].basicMessage,L[String(t)].detailMessage)||this:e.call(this,101,L[101].basicMessage,L[101].detailMessage)||this}return t(r,e),r}(O),C=(function(e){function r(t){return{}.hasOwnProperty.call(b,String(t))?e.call(this,t,b[String(t)].basicMessage,b[String(t)].detailMessage)||this:e.call(this,101,b[101].basicMessage,b[101].detailMessage)||this}t(r,e)}(O),function(e){function r(t){return{}.hasOwnProperty.call(S,String(t))?e.call(this,t,S[String(t)].basicMessage,S[String(t)].detailMessage)||this:e.call(this,101,S[101].basicMessage,S[101].detailMessage)||this}t(r,e)}(O),3600);function N(e){if(!e||e<=0)return"00:00:00";var t=Math.floor(e/C),r=new Date(1e3*e),i=r.getUTCMinutes(),n=r.getSeconds(),s=e%1,o="";return w(s)>0&&(o="."+(o=w(s)>2?s.toFixed(2):String(s)).split(".")[1]),(t+":"+i+":"+n).replace(/\b\d\b/g,"0$&")+o}function R(e,t){if("number"!=typeof e&&"boolean"!=typeof e||(e=String(e)),"string"==typeof t&&(t=new RegExp(t)),!e||!e.match(t))return 0;var r=e.split(":");return 3600*Number(r[0])+60*Number(r[1])+Number(r[2])}function v(e){var t={};return function e(r,i){if(Object(r)!==r)t[i]=r;else if(Array.isArray(r))for(var n=0,s=r.length;n<s;n++)e(r[n],i+"["+n+"]"),0===s&&(t[i]=[]);else{var o=!0;for(var a in r)({}).hasOwnProperty.call(r,a)&&(o=!1,e(r[a],i?i+"."+a:a));o&&i&&(t[i]={})}}(e,""),t}function w(e){return Math.floor(e)===e||String(e).indexOf(".")<0?0:e.toString().split(".")[1].length||0}var A=o.global,V=c.scorm12;var D={autocommit:!1,autocommitSeconds:10,asyncCommit:!1,sendBeaconCommit:!1,lmsCommitUrl:!1,dataCommitFormat:"json",commitRequestDataType:"application/json;charset=UTF-8",autoProgress:!1,logLevel:A.LOG_LEVEL_ERROR,selfReportSessionTime:!1,alwaysSendTotalTime:!1,strict_errors:!0,xhrHeaders:{},xhrWithCredentials:!1,responseHandler:function(e){return i(this,void 0,void 0,(function(){var t,r,i;return n(this,(function(n){switch(n.label){case 0:return void 0===e?[3,2]:(i=(r=JSON).parse,[4,e.text()]);case 1:return null!==(t=i.apply(r,[n.sent()]))&&{}.hasOwnProperty.call(t,"result")?[2,{result:t.result,errorCode:t.errorCode?t.errorCode:t.result===A.SCORM_TRUE?0:101}]:200===e.status?[2,{result:A.SCORM_TRUE,errorCode:0}]:[2,{result:A.SCORM_FALSE,errorCode:101}];case 2:return[2,{result:A.SCORM_FALSE,errorCode:101}]}}))}))},requestHandler:function(e){return e},onLogMessage:function(e,t){switch(e){case A.LOG_LEVEL_ERROR:console.error(t);break;case A.LOG_LEVEL_WARNING:console.warn(t);break;case A.LOG_LEVEL_INFO:console.info(t);break;case A.LOG_LEVEL_DEBUG:console.debug?console.debug(t):console.log(t)}}},j=function(){function e(t,r){var i=this.constructor;if(this._settings=D,i===e)throw new TypeError("Cannot construct BaseAPI instances directly");this.currentState=A.STATE_NOT_INITIALIZED,this.lastErrorCode="0",this.listenerArray=[],this._error_codes=t,r&&(this.settings=r),this.apiLogLevel=this.settings.logLevel,this.selfReportSessionTime=this.settings.selfReportSessionTime}return e.prototype.initialize=function(e,t,r){var i=A.SCORM_FALSE;return this.isInitialized()?this.throwSCORMError(this._error_codes.INITIALIZED,t):this.isTerminated()?this.throwSCORMError(this._error_codes.TERMINATED,r):(this.selfReportSessionTime&&this.cmi.setStartTime(),this.currentState=A.STATE_INITIALIZED,this.lastErrorCode="0",i=A.SCORM_TRUE,this.processListeners(e)),this.apiLog(e,"returned: "+i,A.LOG_LEVEL_INFO),this.clearSCORMError(i),i},Object.defineProperty(e.prototype,"error_codes",{get:function(){return this._error_codes},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"settings",{get:function(){return this._settings},set:function(e){this._settings=r(r({},this._settings),e)},enumerable:!1,configurable:!0}),e.prototype.terminate=function(e,t){var r=A.SCORM_FALSE;if(this.checkState(t,this._error_codes.TERMINATION_BEFORE_INIT,this._error_codes.MULTIPLE_TERMINATION)){this.currentState=A.STATE_TERMINATED;var i=this.storeData(!0);void 0!==i.errorCode&&i.errorCode>0&&this.throwSCORMError(i.errorCode),r=void 0!==i&&i.result?i.result:A.SCORM_FALSE,t&&(this.lastErrorCode="0"),r=A.SCORM_TRUE,this.processListeners(e)}return this.apiLog(e,"returned: "+r,A.LOG_LEVEL_INFO),this.clearSCORMError(r),r},e.prototype.getValue=function(e,t,r){var i="";if(this.checkState(t,this._error_codes.RETRIEVE_BEFORE_INIT,this._error_codes.RETRIEVE_AFTER_TERM)){t&&(this.lastErrorCode="0");try{i=this.getCMIValue(r)}catch(e){i=this.handleValueAccessException(e,i)}this.processListeners(e,r)}return this.apiLog(e,": returned: "+i,A.LOG_LEVEL_INFO,r),this.clearSCORMError(i),i},e.prototype.setValue=function(e,t,r,i,n){void 0!==n&&(n=String(n));var s=A.SCORM_FALSE;if(this.checkState(r,this._error_codes.STORE_BEFORE_INIT,this._error_codes.STORE_AFTER_TERM)){r&&(this.lastErrorCode="0");try{s=this.setCMIValue(i,n)}catch(e){this.handleValueAccessException(e,s)}this.processListeners(e,i,n)}return void 0===s&&(s=A.SCORM_FALSE),"0"===String(this.lastErrorCode)&&this.settings.autocommit&&!this._timeout&&this.scheduleCommit(1e3*this.settings.autocommitSeconds,t),this.apiLog(e,": "+n+": result: "+s,A.LOG_LEVEL_INFO,i),this.clearSCORMError(s),s},e.prototype.commit=function(e,t){void 0===t&&(t=!1),this.clearScheduledCommit();var r=A.SCORM_FALSE;if(this.checkState(t,this._error_codes.COMMIT_BEFORE_INIT,this._error_codes.COMMIT_AFTER_TERM)){var i=this.storeData(!1);i.errorCode&&i.errorCode>0&&this.throwSCORMError(i.errorCode),r=void 0!==i&&i.result?i.result:A.SCORM_FALSE,this.apiLog(e," Result: "+r,A.LOG_LEVEL_DEBUG,"HttpRequest"),t&&(this.lastErrorCode="0"),this.processListeners(e)}return this.apiLog(e,"returned: "+r,A.LOG_LEVEL_INFO),this.clearSCORMError(r),r},e.prototype.getLastError=function(e){var t=String(this.lastErrorCode);return this.processListeners(e),this.apiLog(e,"returned: "+t,A.LOG_LEVEL_INFO),t},e.prototype.getErrorString=function(e,t){var r="";return null!==t&&""!==t&&(r=this.getLmsErrorMessageDetails(t),this.processListeners(e)),this.apiLog(e,"returned: "+r,A.LOG_LEVEL_INFO),r},e.prototype.getDiagnostic=function(e,t){var r="";return null!==t&&""!==t&&(r=this.getLmsErrorMessageDetails(t,!0),this.processListeners(e)),this.apiLog(e,"returned: "+r,A.LOG_LEVEL_INFO),r},e.prototype.checkState=function(e,t,r){return this.isNotInitialized()?(this.throwSCORMError(t),!1):!e||!this.isTerminated()||(this.throwSCORMError(r),!1)},e.prototype.apiLog=function(e,t,r,i){t=this.formatMessage(e,t,i),r>=this.apiLogLevel&&this.settings.onLogMessage(r,t)},e.prototype.formatMessage=function(e,t,r){for(var i="",n=20-(i+=e).length,s=0;s<n;s++)i+=" ";if(i+=": ",r){n=70-(i+=r).length;for(var o=0;o<n;o++)i+=" "}return t&&(i+=t),i},e.prototype.stringMatches=function(e,t){return null!==(null==e?void 0:e.match(t))},e.prototype._checkObjectHasProperty=function(e,t){return Object.hasOwnProperty.call(e,t)||null!=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),t)||t in e},e.prototype.getLmsErrorMessageDetails=function(e,t){throw void 0===t&&(t=!1),new Error("The getLmsErrorMessageDetails method has not been implemented")},e.prototype.getCMIValue=function(e){throw new Error("The getCMIValue method has not been implemented")},e.prototype.setCMIValue=function(e,t){throw new Error("The setCMIValue method has not been implemented")},e.prototype._commonSetCMIValue=function(e,t,r,i){if(!r||""===r)return A.SCORM_FALSE;for(var n=r.split("."),s=this,o=A.SCORM_FALSE,a=!1,c="The data model element passed to ".concat(e," (").concat(r,") is not a valid SCORM data model element."),l=t?this._error_codes.UNDEFINED_DATA_MODEL:this._error_codes.GENERAL,u=0;u<n.length;u++){var _=n[u];if(u===n.length-1)t&&"{target="===_.substring(0,8)&&"function"==typeof s._isTargetValid?this.throwSCORMError(this._error_codes.READ_ONLY_ELEMENT):this._checkObjectHasProperty(s,_)?(this.isInitialized()&&this.stringMatches(r,"\\.correct_responses\\.\\d+")&&this.validateCorrectResponse(r,i),t&&"0"!==this.lastErrorCode||(s[_]=i,o=A.SCORM_TRUE)):this.throwSCORMError(l,c);else{if(!(s=s[_])){this.throwSCORMError(l,c);break}if(s instanceof y){var d=parseInt(n[u+1],10);if(!isNaN(d)){var h=s.childArray[d];if(h)s=h,a=!0;else{var m=this.getChildElement(r,i,a);a=!0,m?(s.initialized&&m.initialize(),s.childArray.push(m),s=m):this.throwSCORMError(l,c)}u++}}}}return o===A.SCORM_FALSE&&this.apiLog(e,"There was an error setting the value for: ".concat(r,", value of: ").concat(i),A.LOG_LEVEL_WARNING),o},e.prototype._commonGetCMIValue=function(e,t,r){if(!r||""===r)return"";for(var i=r.split("."),n=this,s=null,o="The data model element passed to ".concat(e," (").concat(r,") has not been initialized."),a="The data model element passed to ".concat(e," (").concat(r,") is not a valid SCORM data model element."),c=t?this._error_codes.UNDEFINED_DATA_MODEL:this._error_codes.GENERAL,l=0;l<i.length;l++){if(s=i[l],t){if("{target="===String(s).substring(0,8)&&"function"==typeof n._isTargetValid){var u=String(s).substring(8,String(s).length-9);return n._isTargetValid(u)}if(!this._checkObjectHasProperty(n,s))return void this.throwSCORMError(c,a)}else if(l===i.length-1&&!this._checkObjectHasProperty(n,s))return void this.throwSCORMError(c,a);if(void 0===(n=n[s])){this.throwSCORMError(c,a);break}if(n instanceof y){var _=parseInt(i[l+1],10);if(!isNaN(_)){var d=n.childArray[_];if(!d){this.throwSCORMError(this._error_codes.VALUE_NOT_INITIALIZED,o);break}n=d,l++}}}if(null!=n)return n;t||("_children"===s?this.throwSCORMError(V.CHILDREN_ERROR):"_count"===s&&this.throwSCORMError(V.COUNT_ERROR))},e.prototype.isInitialized=function(){return this.currentState===A.STATE_INITIALIZED},e.prototype.isNotInitialized=function(){return this.currentState===A.STATE_NOT_INITIALIZED},e.prototype.isTerminated=function(){return this.currentState===A.STATE_TERMINATED},e.prototype.on=function(e,t){if(t)for(var r=e.split(" "),i=0;i<r.length;i++){var n=r[i].split(".");if(0===n.length)return;var s=n[0],o=null;n.length>1&&(o=e.replace(s+".","")),this.listenerArray.push({functionName:s,CMIElement:o,callback:t}),this.apiLog("on","Added event listener: ".concat(this.listenerArray.length),A.LOG_LEVEL_INFO,s)}},e.prototype.off=function(e,t){if(t)for(var r=e.split(" "),i=function(i){var s=r[i].split(".");if(0===s.length)return{value:void 0};var o=s[0],a=null;s.length>1&&(a=e.replace(o+".",""));var c=n.listenerArray.findIndex((function(e){return e.functionName===o&&e.CMIElement===a&&e.callback===t}));-1!==c&&(n.listenerArray.splice(c,1),n.apiLog("off","Removed event listener: ".concat(n.listenerArray.length),A.LOG_LEVEL_INFO,o))},n=this,s=0;s<r.length;s++){var o=i(s);if("object"==typeof o)return o.value}},e.prototype.clear=function(e){for(var t=e.split(" "),r=function(r){var n=t[r].split(".");if(0===n.length)return{value:void 0};var s=n[0],o=null;n.length>1&&(o=e.replace(s+".","")),i.listenerArray=i.listenerArray.filter((function(e){return e.functionName!==s&&e.CMIElement!==o}))},i=this,n=0;n<t.length;n++){var s=r(n);if("object"==typeof s)return s.value}},e.prototype.processListeners=function(e,t,r){this.apiLog(e,r,A.LOG_LEVEL_INFO,t);for(var i=0;i<this.listenerArray.length;i++){var n=this.listenerArray[i],s=n.functionName===e,o=!!n.CMIElement,a=!1;a=t&&n.CMIElement&&"*"===n.CMIElement.substring(n.CMIElement.length-1)?0===t.indexOf(n.CMIElement.substring(0,n.CMIElement.length-1)):n.CMIElement===t,!s||o&&!a||(this.apiLog("processListeners","Processing listener: ".concat(n.functionName),A.LOG_LEVEL_INFO,t),n.callback(t,r))}},e.prototype.throwSCORMError=function(e,t){t||(t=this.getLmsErrorMessageDetails(e)),this.apiLog("throwSCORMError",e+": "+t,A.LOG_LEVEL_ERROR),this.lastErrorCode=String(e)},e.prototype.clearSCORMError=function(e){void 0!==e&&e!==A.SCORM_FALSE&&(this.lastErrorCode="0")},e.prototype.loadFromFlattenedJSON=function(e,t){var r=this;if(this.isNotInitialized()){var i,n=/^(cmi\.interactions\.)(\d+)\.(.*)$/,s=/^(cmi\.objectives\.)(\d+)\.(.*)$/,o=Object.keys(e).map((function(t){return[String(t),e[t]]}));o.sort((function(e,t){var r,i=e[0],o=(e[1],t[0]);t[1];return null!==(r=a(i,o,n))||null!==(r=a(i,o,s))?r:i<o?-1:i>o?1:0})),o.forEach((function(e){(i={})[e[0]]=e[1],r.loadFromJSON(function(e){if(Object(e)!==e||Array.isArray(e))return e;var t=/\.?([^.[\]]+)|\[(\d+)]/g,r={};for(var i in e)if({}.hasOwnProperty.call(e,i)){for(var n=r,s="",o=t.exec(i);o;)n=n[s]||(n[s]=o[2]?[]:{}),s=o[2]||o[1],o=t.exec(i);n[s]=e[i]}return r[""]||r}(i),t)}))}else console.error("loadFromFlattenedJSON can only be called before the call to lmsInitialize.");function a(e,t,r){var i,n=e.match(r);if(null!==n&&null!==(i=t.match(r))){var s=Number(n[2]),o=Number(i[2]);return s===o?"id"===n[3]?-1:"type"===n[3]?"id"===i[3]?1:-1:1:s-o}return null}},e.prototype.loadFromJSON=function(e,t){if(this.isNotInitialized()){for(var r in t=void 0!==t?t:"cmi",this.startingData=e,e)if({}.hasOwnProperty.call(e,r)&&e[r]){var i=(t?t+".":"")+r,n=e[r];if(n.childArray)for(var s=0;s<n.childArray.length;s++)this.loadFromJSON(n.childArray[s],i+"."+s);else n.constructor===Object?this.loadFromJSON(n,i):this.setCMIValue(i,n)}}else console.error("loadFromJSON can only be called before the call to lmsInitialize.")},e.prototype.renderCMIToJSONString=function(){var e=this.cmi;return JSON.stringify({cmi:e})},e.prototype.renderCMIToJSONObject=function(){return JSON.parse(this.renderCMIToJSONString())},e.prototype.processHttpRequest=function(e,t,s){var o=this;void 0===s&&(s=!1);var a=this,c={result:A.SCORM_FALSE,errorCode:this.error_codes.GENERAL},l=function(e,t,r){var i;return void 0===r&&(r=!1),function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];var o=this,a=r&&!i;i&&clearTimeout(i),i=setTimeout((function(){i=null,r||e.apply(o,n)}),t),a&&e.apply(o,n)}}((function(e,t,s){return i(o,void 0,void 0,(function(){var i,o,l,u;return n(this,(function(n){switch(n.label){case 0:return n.trys.push([0,6,,7]),t=s.requestHandler(t),[4,fetch(e,{method:"POST",body:t instanceof Array?t.join("&"):JSON.stringify(t),headers:r(r({},s.xhrHeaders),{"Content-Type":s.commitRequestDataType}),credentials:s.xhrWithCredentials?"include":void 0,keepalive:!0})];case 1:return i=n.sent(),"function"!=typeof s.responseHandler?[3,3]:[4,s.responseHandler(i)];case 2:return l=n.sent(),[3,5];case 3:return[4,i.json()];case 4:l=n.sent(),n.label=5;case 5:return o=l,i.status>=200&&i.status<=299&&(!0===o.result||o.result===A.SCORM_TRUE)?a.processListeners("CommitSuccess"):a.processListeners("CommitError"),[2,o];case 6:return u=n.sent(),this.apiLog("processHttpRequest",u,A.LOG_LEVEL_ERROR),a.processListeners("CommitError"),[2,c];case 7:return[2]}}))}))}),500,s);return l(e,t,this.settings),{result:A.SCORM_TRUE,errorCode:0}},e.prototype.scheduleCommit=function(e,t){this._timeout=new G(this,e,t),this.apiLog("scheduleCommit","scheduled",A.LOG_LEVEL_DEBUG,"")},e.prototype.clearScheduledCommit=function(){this._timeout&&(this._timeout.cancel(),this._timeout=void 0,this.apiLog("clearScheduledCommit","cleared",A.LOG_LEVEL_DEBUG,""))},e.prototype.handleValueAccessException=function(e,t){return e instanceof O?(this.lastErrorCode=String(e.errorCode),t=A.SCORM_FALSE):(e instanceof Error&&e.message?console.error(e.message):console.error(e),this.throwSCORMError(this._error_codes.GENERAL)),t},e}(),F=j,G=function(){function e(e,t,r){this._cancelled=!1,this._API=e,this._timeout=setTimeout(this.wrapper.bind(this),t),this._callback=r}return e.prototype.cancel=function(){this._cancelled=!0,this._timeout&&clearTimeout(this._timeout)},e.prototype.wrapper=function(){this._cancelled||this._API.commit(this._callback)},e}(),P=o.scorm12,x=u.scorm12,U=c.scorm12;function z(e,t,r){return f(e,t,U.TYPE_MISMATCH,T,r)}function $(e,t,r){if(!r&&""===e)throw new T(U.VALUE_OUT_OF_RANGE);return E(e,t,U.VALUE_OUT_OF_RANGE,T)}var k=function(e){function r(t,r,i){var n=e.call(this)||this;return n.__children="",n.__version="3.4",n._launch_data="",n._comments="",n._comments_from_lms="",i&&n.initialize(),n.__children=t||P.cmi_children,n.core=new Y,n.objectives=new B,n.student_data=r||new Z,n.student_preference=new H,n.interactions=new J,n}return t(r,e),r.prototype.initialize=function(){var t,r,i,n,s;e.prototype.initialize.call(this),null===(t=this.core)||void 0===t||t.initialize(),null===(r=this.objectives)||void 0===r||r.initialize(),null===(i=this.student_data)||void 0===i||i.initialize(),null===(n=this.student_preference)||void 0===n||n.initialize(),null===(s=this.interactions)||void 0===s||s.initialize()},r.prototype.toJSON=function(){this.jsonString=!0;var e={suspend_data:this.suspend_data,launch_data:this.launch_data,comments:this.comments,comments_from_lms:this.comments_from_lms,core:this.core,objectives:this.objectives,student_data:this.student_data,student_preference:this.student_preference,interactions:this.interactions};return delete this.jsonString,e},Object.defineProperty(r.prototype,"_version",{get:function(){return this.__version},set:function(e){throw new T(U.INVALID_SET_VALUE)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"_children",{get:function(){return this.__children},set:function(e){throw new T(U.INVALID_SET_VALUE)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"suspend_data",{get:function(){var e;return null===(e=this.core)||void 0===e?void 0:e.suspend_data},set:function(e){this.core&&(this.core.suspend_data=e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"launch_data",{get:function(){return this._launch_data},set:function(e){if(this.initialized)throw new T(U.READ_ONLY_ELEMENT);this._launch_data=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"comments",{get:function(){return this._comments},set:function(e){z(e,x.CMIString4096,!0)&&(this._comments=e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"comments_from_lms",{get:function(){return this._comments_from_lms},set:function(e){if(this.initialized)throw new T(U.READ_ONLY_ELEMENT);this._comments_from_lms=e},enumerable:!1,configurable:!0}),r.prototype.getCurrentTotalTime=function(){return this.core.getCurrentTotalTime(this.start_time)},r}(M),Y=function(e){function r(){var t=e.call(this)||this;return t.__children=P.core_children,t._student_id="",t._student_name="",t._lesson_location="",t._credit="",t._lesson_status="not attempted",t._entry="",t._total_time="",t._lesson_mode="normal",t._exit="",t._session_time="00:00:00",t._suspend_data="",t.score=new I({score_children:P.score_children,score_range:x.score_range,invalidErrorCode:U.INVALID_SET_VALUE,invalidTypeCode:U.TYPE_MISMATCH,invalidRangeCode:U.VALUE_OUT_OF_RANGE,errorClass:T}),t}return t(r,e),r.prototype.initialize=function(){var t;e.prototype.initialize.call(this),null===(t=this.score)||void 0===t||t.initialize()},Object.defineProperty(r.prototype,"_children",{get:function(){return this.__children},set:function(e){throw new T(U.INVALID_SET_VALUE)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"student_id",{get:function(){return this._student_id},set:function(e){if(this.initialized)throw new T(U.READ_ONLY_ELEMENT);this._student_id=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"student_name",{get:function(){return this._student_name},set:function(e){if(this.initialized)throw new T(U.READ_ONLY_ELEMENT);this._student_name=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lesson_location",{get:function(){return this._lesson_location},set:function(e){z(e,x.CMIString256,!0)&&(this._lesson_location=e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"credit",{get:function(){return this._credit},set:function(e){if(this.initialized)throw new T(U.READ_ONLY_ELEMENT);this._credit=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lesson_status",{get:function(){return this._lesson_status},set:function(e){this.initialized?z(e,x.CMIStatus)&&(this._lesson_status=e):z(e,x.CMIStatus2)&&(this._lesson_status=e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"entry",{get:function(){return this._entry},set:function(e){if(this.initialized)throw new T(U.READ_ONLY_ELEMENT);this._entry=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"total_time",{get:function(){return this._total_time},set:function(e){if(this.initialized)throw new T(U.READ_ONLY_ELEMENT);this._total_time=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lesson_mode",{get:function(){return this._lesson_mode},set:function(e){if(this.initialized)throw new T(U.READ_ONLY_ELEMENT);this._lesson_mode=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"exit",{get:function(){if(!this.jsonString)throw new T(U.WRITE_ONLY_ELEMENT);return this._exit},set:function(e){z(e,x.CMIExit,!0)&&(this._exit=e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"session_time",{get:function(){if(!this.jsonString)throw new T(U.WRITE_ONLY_ELEMENT);return this._session_time},set:function(e){z(e,x.CMITimespan)&&(this._session_time=e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"suspend_data",{get:function(){return this._suspend_data},set:function(e){z(e,x.CMIString4096,!0)&&(this._suspend_data=e)},enumerable:!1,configurable:!0}),r.prototype.getCurrentTotalTime=function(e){var t,r,i,n=this._session_time,s=e;null!=s&&(n=N(((new Date).getTime()-s)/1e3));return t=this._total_time,r=n,"string"==typeof(i=new RegExp(x.CMITimespan))&&(i=new RegExp(i)),N(R(t,i)+R(r,i))},r.prototype.toJSON=function(){this.jsonString=!0;var e={student_id:this.student_id,student_name:this.student_name,lesson_location:this.lesson_location,credit:this.credit,lesson_status:this.lesson_status,entry:this.entry,lesson_mode:this.lesson_mode,exit:this.exit,session_time:this.session_time,score:this.score};return delete this.jsonString,e},r}(g),B=function(e){function r(){return e.call(this,{children:P.objectives_children,errorCode:U.INVALID_SET_VALUE,errorClass:T})||this}return t(r,e),r}(y),Z=function(e){function r(t){var r=e.call(this)||this;return r._mastery_score="",r._max_time_allowed="",r._time_limit_action="",r.__children=t||P.student_data_children,r}return t(r,e),Object.defineProperty(r.prototype,"_children",{get:function(){return this.__children},set:function(e){throw new T(U.INVALID_SET_VALUE)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"mastery_score",{get:function(){return this._mastery_score},set:function(e){if(this.initialized)throw new T(U.READ_ONLY_ELEMENT);this._mastery_score=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"max_time_allowed",{get:function(){return this._max_time_allowed},set:function(e){if(this.initialized)throw new T(U.READ_ONLY_ELEMENT);this._max_time_allowed=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"time_limit_action",{get:function(){return this._time_limit_action},set:function(e){if(this.initialized)throw new T(U.READ_ONLY_ELEMENT);this._time_limit_action=e},enumerable:!1,configurable:!0}),r.prototype.toJSON=function(){this.jsonString=!0;var e={mastery_score:this.mastery_score,max_time_allowed:this.max_time_allowed,time_limit_action:this.time_limit_action};return delete this.jsonString,e},r}(g),H=function(e){function r(t){var r=e.call(this)||this;return r._audio="",r._language="",r._speed="",r._text="",r.__children=t||P.student_preference_children,r}return t(r,e),Object.defineProperty(r.prototype,"_children",{get:function(){return this.__children},set:function(e){throw new T(U.INVALID_SET_VALUE)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"audio",{get:function(){return this._audio},set:function(e){z(e,x.CMISInteger)&&$(e,x.audio_range)&&(this._audio=e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"language",{get:function(){return this._language},set:function(e){z(e,x.CMIString256)&&(this._language=e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"speed",{get:function(){return this._speed},set:function(e){z(e,x.CMISInteger)&&$(e,x.speed_range)&&(this._speed=e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"text",{get:function(){return this._text},set:function(e){z(e,x.CMISInteger)&&$(e,x.text_range)&&(this._text=e)},enumerable:!1,configurable:!0}),r.prototype.toJSON=function(){this.jsonString=!0;var e={audio:this.audio,language:this.language,speed:this.speed,text:this.text};return delete this.jsonString,e},r}(g),J=function(e){function r(){return e.call(this,{children:P.interactions_children,errorCode:U.INVALID_SET_VALUE,errorClass:T})||this}return t(r,e),r}(y),W=function(e){function r(){var t=e.call(this)||this;return t._id="",t._time="",t._type="",t._weighting="",t._student_response="",t._result="",t._latency="",t.objectives=new y({errorCode:U.INVALID_SET_VALUE,errorClass:T,children:P.objectives_children}),t.correct_responses=new y({errorCode:U.INVALID_SET_VALUE,errorClass:T,children:P.correct_responses_children}),t}return t(r,e),r.prototype.initialize=function(){var t,r;e.prototype.initialize.call(this),null===(t=this.objectives)||void 0===t||t.initialize(),null===(r=this.correct_responses)||void 0===r||r.initialize()},Object.defineProperty(r.prototype,"id",{get:function(){if(!this.jsonString)throw new T(U.WRITE_ONLY_ELEMENT);return this._id},set:function(e){z(e,x.CMIIdentifier)&&(this._id=e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"time",{get:function(){if(!this.jsonString)throw new T(U.WRITE_ONLY_ELEMENT);return this._time},set:function(e){z(e,x.CMITime)&&(this._time=e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"type",{get:function(){if(!this.jsonString)throw new T(U.WRITE_ONLY_ELEMENT);return this._type},set:function(e){z(e,x.CMIType)&&(this._type=e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"weighting",{get:function(){if(!this.jsonString)throw new T(U.WRITE_ONLY_ELEMENT);return this._weighting},set:function(e){z(e,x.CMIDecimal)&&$(e,x.weighting_range)&&(this._weighting=e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"student_response",{get:function(){if(!this.jsonString)throw new T(U.WRITE_ONLY_ELEMENT);return this._student_response},set:function(e){z(e,x.CMIFeedback,!0)&&(this._student_response=e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"result",{get:function(){if(!this.jsonString)throw new T(U.WRITE_ONLY_ELEMENT);return this._result},set:function(e){z(e,x.CMIResult)&&(this._result=e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"latency",{get:function(){if(!this.jsonString)throw new T(U.WRITE_ONLY_ELEMENT);return this._latency},set:function(e){z(e,x.CMITimespan)&&(this._latency=e)},enumerable:!1,configurable:!0}),r.prototype.toJSON=function(){this.jsonString=!0;var e={id:this.id,time:this.time,type:this.type,weighting:this.weighting,student_response:this.student_response,result:this.result,latency:this.latency,objectives:this.objectives,correct_responses:this.correct_responses};return delete this.jsonString,e},r}(g),q=function(e){function r(){var t=e.call(this)||this;return t._id="",t._status="",t.score=new I({score_children:P.score_children,score_range:x.score_range,invalidErrorCode:U.INVALID_SET_VALUE,invalidTypeCode:U.TYPE_MISMATCH,invalidRangeCode:U.VALUE_OUT_OF_RANGE,errorClass:T}),t}return t(r,e),Object.defineProperty(r.prototype,"id",{get:function(){return this._id},set:function(e){z(e,x.CMIIdentifier)&&(this._id=e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"status",{get:function(){return this._status},set:function(e){z(e,x.CMIStatus2)&&(this._status=e)},enumerable:!1,configurable:!0}),r.prototype.toJSON=function(){this.jsonString=!0;var e={id:this.id,status:this.status,score:this.score};return delete this.jsonString,e},r}(g),K=function(e){function r(){var t=e.call(this)||this;return t._id="",t}return t(r,e),Object.defineProperty(r.prototype,"id",{get:function(){return this._id},set:function(e){z(e,x.CMIIdentifier)&&(this._id=e)},enumerable:!1,configurable:!0}),r.prototype.toJSON=function(){this.jsonString=!0;var e={id:this.id};return delete this.jsonString,e},r}(g),Q=function(e){function r(){var t=e.call(this)||this;return t._pattern="",t}return t(r,e),Object.defineProperty(r.prototype,"pattern",{get:function(){if(!this.jsonString)throw new T(U.WRITE_ONLY_ELEMENT);return this._pattern},set:function(e){z(e,x.CMIFeedback,!0)&&(this._pattern=e)},enumerable:!1,configurable:!0}),r.prototype.toJSON=function(){this.jsonString=!0;var e={pattern:this._pattern};return delete this.jsonString,e},r}(g),X=function(e){function r(){var t=e.call(this)||this;return t._event="",t}return t(r,e),Object.defineProperty(r.prototype,"event",{get:function(){return this._event},set:function(e){z(e,x.NAVEvent)&&(this._event=e)},enumerable:!1,configurable:!0}),r.prototype.toJSON=function(){this.jsonString=!0;var e={event:this.event};return delete this.jsonString,e},r}(g),ee=o.scorm12,te=o.global,re=c.scorm12,ie=function(e){function r(t){var r=this;return t&&void 0===t.mastery_override&&(t.mastery_override=!1),(r=e.call(this,re,t)||this).cmi=new k,r.nav=new X,r.LMSInitialize=r.lmsInitialize,r.LMSFinish=r.lmsFinish,r.LMSGetValue=r.lmsGetValue,r.LMSSetValue=r.lmsSetValue,r.LMSCommit=r.lmsCommit,r.LMSGetLastError=r.lmsGetLastError,r.LMSGetErrorString=r.lmsGetErrorString,r.LMSGetDiagnostic=r.lmsGetDiagnostic,r}return t(r,e),r.prototype.lmsInitialize=function(){return this.cmi.initialize(),this.initialize("LMSInitialize","LMS was already initialized!","LMS is already finished!")},r.prototype.lmsFinish=function(){var e=this.terminate("LMSFinish",!0);return e===te.SCORM_TRUE&&(""!==this.nav.event?"continue"===this.nav.event?this.processListeners("SequenceNext"):this.processListeners("SequencePrevious"):this.settings.autoProgress&&this.processListeners("SequenceNext")),e},r.prototype.lmsGetValue=function(e){return this.getValue("LMSGetValue",!1,e)},r.prototype.lmsSetValue=function(e,t){return this.setValue("LMSSetValue","LMSCommit",!1,e,t)},r.prototype.lmsCommit=function(){return this.commit("LMSCommit",!1)},r.prototype.lmsGetLastError=function(){return this.getLastError("LMSGetLastError")},r.prototype.lmsGetErrorString=function(e){return this.getErrorString("LMSGetErrorString",e)},r.prototype.lmsGetDiagnostic=function(e){return this.getDiagnostic("LMSGetDiagnostic",e)},r.prototype.setCMIValue=function(e,t){return this._commonSetCMIValue("LMSSetValue",!1,e,t)},r.prototype.getCMIValue=function(e){return this._commonGetCMIValue("getCMIValue",!1,e)},r.prototype.getChildElement=function(e,t,r){return this.stringMatches(e,"cmi\\.objectives\\.\\d+")?new q:r&&this.stringMatches(e,"cmi\\.interactions\\.\\d+\\.correct_responses\\.\\d+")?new Q:r&&this.stringMatches(e,"cmi\\.interactions\\.\\d+\\.objectives\\.\\d+")?new K:!r&&this.stringMatches(e,"cmi\\.interactions\\.\\d+")?new W:null},r.prototype.validateCorrectResponse=function(e,t){},r.prototype.getLmsErrorMessageDetails=function(e,t){var r="No Error",i="No Error";return e=String(e),ee.error_descriptions[e]&&(r=ee.error_descriptions[e].basicMessage,i=ee.error_descriptions[e].detailMessage),t?i:r},r.prototype.replaceWithAnotherScormAPI=function(e){this.cmi=e.cmi},r.prototype.renderCommitCMI=function(e){var t=this.renderCMIToJSONObject();e&&(t.cmi.core.total_time=this.cmi.getCurrentTotalTime());var r=[],i=v(t);switch(this.settings.dataCommitFormat){case"flattened":return v(t);case"params":for(var n in i)({}).hasOwnProperty.call(i,n)&&r.push("".concat(n,"=").concat(i[n]));return r;default:return t}},r.prototype.storeData=function(e){var t,r,i;if(e){var n=this.cmi.core.lesson_status;"not attempted"===n&&(this.cmi.core.lesson_status="completed"),"normal"===this.cmi.core.lesson_mode?"credit"===this.cmi.core.credit&&this.settings.mastery_override&&""!==this.cmi.student_data.mastery_score&&""!==this.cmi.core.score.raw&&(parseFloat(this.cmi.core.score.raw)>=parseFloat(this.cmi.student_data.mastery_score)?this.cmi.core.lesson_status="passed":this.cmi.core.lesson_status="failed"):"browse"===this.cmi.core.lesson_mode&&""===((null===(i=null===(r=null===(t=this.startingData)||void 0===t?void 0:t.cmi)||void 0===r?void 0:r.core)||void 0===i?void 0:i.lesson_status)||"")&&"not attempted"===n&&(this.cmi.core.lesson_status="browsed")}var s=this.renderCommitCMI(e||this.settings.alwaysSendTotalTime);return this.apiLogLevel===te.LOG_LEVEL_DEBUG&&(console.debug("Commit (terminated: "+(e?"yes":"no")+"): "),console.debug(s)),"string"==typeof this.settings.lmsCommitUrl?this.processHttpRequest(this.settings.lmsCommitUrl,s,e):{result:te.SCORM_TRUE,errorCode:0}},r}(F);window.Scorm12API=ie}();
//# sourceMappingURL=scorm12.min.js.map