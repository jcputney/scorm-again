import { Activity } from "./activity";
import { ActivityTree } from "./activity_tree";
import { SequencingProcess, SequencingRequestType } from "./sequencing_process";
import { RollupProcess } from "./rollup_process";
import { ADLNav } from "../adl";
import { AuxiliaryResource, HideLmsUiItem } from "../../../types/sequencing_types";
import { NavigationPredictions } from "./navigation_look_ahead";
import { type TerminationResult, type CMIDataForTransfer } from "./handlers/termination_handler";
import { DeliveryRequest, type ContentActivityData } from "./handlers/delivery_handler";
import { NavigationRequestType, type NavigationRequestResult } from "./services/navigation_validity_service";
import { type SequencingState, type SuspensionState } from "./state/sequencing_state_manager";
export { NavigationRequestType, DeliveryRequest };
export type { NavigationRequestResult, CMIDataForTransfer, ContentActivityData, SequencingState, SuspensionState, };
export type { TerminationResult as TerminationRequestResult };
export interface OverallSequencingProcessOptions {
    now?: () => Date;
    enhancedDeliveryValidation?: boolean;
    defaultHideLmsUi?: HideLmsUiItem[];
    defaultAuxiliaryResources?: AuxiliaryResource[];
    getCMIData?: () => CMIDataForTransfer;
    is4thEdition?: boolean;
}
export declare class OverallSequencingProcess {
    private activityTree;
    private sequencingProcess;
    private rollupProcess;
    private adlNav;
    private eventCallback;
    private terminationHandler;
    private deliveryHandler;
    private navigationValidityService;
    private globalObjectiveService;
    private stateManager;
    private deliveryValidator;
    private navigationLookAhead;
    private enhancedDeliveryValidation;
    private is4thEdition;
    constructor(activityTree: ActivityTree, sequencingProcess: SequencingProcess, rollupProcess: RollupProcess, adlNav?: ADLNav | null, eventCallback?: ((eventType: string, data?: any) => void) | null, options?: OverallSequencingProcessOptions);
    private setupCallbacks;
    processNavigationRequest(navigationRequest: NavigationRequestType, targetActivityId?: string | null, exitType?: string): DeliveryRequest;
    private processDelivery;
    hasContentBeenDelivered(): boolean;
    isDeliveryInProgress(): boolean;
    resetContentDelivered(): void;
    setContentDelivered(value: boolean): void;
    updateNavigationValidity(): void;
    synchronizeGlobalObjectives(): void;
    getGlobalObjectiveMap(): Map<string, any>;
    getGlobalObjectiveMapSnapshot(): Record<string, any>;
    restoreGlobalObjectiveMapSnapshot(snapshot: Record<string, any>): void;
    updateGlobalObjective(objectiveId: string, objectiveData: any): void;
    getSequencingState(): SequencingState;
    restoreSequencingState(state: SequencingState): boolean;
    getSuspensionState(): SuspensionState;
    restoreSuspensionState(state: SuspensionState): void;
    getNavigationLookAhead(): NavigationPredictions;
    predictContinueEnabled(): boolean;
    predictPreviousEnabled(): boolean;
    predictChoiceEnabled(activityId: string): boolean;
    getAvailableChoices(): string[];
    invalidateNavigationCache(): void;
    applyDeliveryControls(activity: Activity): void;
    getEffectiveHideLmsUi(activity: Activity | null): HideLmsUiItem[];
    getEffectiveAuxiliaryResources(activity: Activity | null): AuxiliaryResource[];
    getContentActivityData(activity: Activity): ContentActivityData;
    terminationRequestProcess(request: SequencingRequestType, hasSequencingRequest: boolean, exitType?: string): TerminationResult;
    contentDeliveryEnvironmentProcess(activity: Activity): void;
    endAttemptProcess(activity: Activity): void;
    handleExitTermination(currentActivity: Activity, hasSequencingRequest: boolean): TerminationResult;
    private fireEvent;
}
//# sourceMappingURL=overall_sequencing_process.d.ts.map