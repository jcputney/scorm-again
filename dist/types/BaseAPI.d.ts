import { ErrorCode } from "./constants/error_codes";
import { StringKeyMap } from "./utilities";
import { BaseCMI } from "./cmi/common/base_cmi";
import { CommitObject, LogLevel, ResultObject, Settings } from "./types/api_types";
import { IBaseAPI } from "./interfaces/IBaseAPI";
import { ICMIDataService, IErrorHandlingService, IEventService, IHttpService, ILoggingService, IOfflineStorageService, ISerializationService } from "./interfaces/services";
export default abstract class BaseAPI implements IBaseAPI {
    private _timeout?;
    private readonly _error_codes;
    private _settings;
    private readonly _httpService;
    private _eventService;
    private _serializationService;
    private readonly _errorHandlingService;
    private readonly _loggingService;
    private _offlineStorageService?;
    private _courseId;
    protected constructor(error_codes: ErrorCode, settings?: Settings, httpService?: IHttpService, eventService?: IEventService, serializationService?: ISerializationService, cmiDataService?: ICMIDataService, errorHandlingService?: IErrorHandlingService, loggingService?: ILoggingService, offlineStorageService?: IOfflineStorageService);
    abstract cmi: BaseCMI;
    startingData?: StringKeyMap;
    currentState: number;
    apiLogLevel: LogLevel;
    selfReportSessionTime: boolean;
    get lastErrorCode(): string;
    set lastErrorCode(errorCode: string);
    abstract reset(settings?: Settings): void;
    commonReset(settings?: Settings): void;
    initialize(callbackName: string, initializeMessage?: string, terminationMessage?: string): string;
    abstract lmsInitialize(): string;
    abstract lmsFinish(): string;
    abstract lmsGetValue(CMIElement: string): string;
    abstract lmsSetValue(CMIElement: string, value: any): string;
    abstract lmsCommit(): string;
    abstract lmsGetLastError(): string;
    abstract lmsGetErrorString(CMIErrorCode: string | number): string;
    abstract lmsGetDiagnostic(CMIErrorCode: string | number): string;
    abstract validateCorrectResponse(_CMIElement: string, _value: any): void;
    abstract getChildElement(_CMIElement: string, _value: any, _foundFirstIndex: boolean): BaseCMI | null;
    abstract storeData(_calculateTotalTime: boolean): Promise<ResultObject>;
    abstract renderCommitCMI(_terminateCommit: boolean): StringKeyMap | Array<string>;
    abstract renderCommitObject(_terminateCommit: boolean): CommitObject;
    apiLog(functionName: string, logMessage: string, messageLevel: LogLevel, CMIElement?: string): void;
    get error_codes(): ErrorCode;
    get settings(): Settings;
    set settings(settings: Settings);
    terminate(callbackName: string, checkTerminated: boolean): Promise<string>;
    getValue(callbackName: string, checkTerminated: boolean, CMIElement: string): string;
    setValue(callbackName: string, commitCallback: string, checkTerminated: boolean, CMIElement: string, value: any): string;
    commit(callbackName: string, checkTerminated?: boolean): Promise<string>;
    getLastError(callbackName: string): string;
    getErrorString(callbackName: string, CMIErrorCode: string | number): string;
    getDiagnostic(callbackName: string, CMIErrorCode: string | number): string;
    checkState(checkTerminated: boolean, beforeInitError: number, afterTermError: number): boolean;
    getLmsErrorMessageDetails(_errorNumber: string | number, _detail?: boolean): string;
    getCMIValue(_CMIElement: string): string;
    setCMIValue(_CMIElement: string, _value: any): string;
    _commonSetCMIValue(methodName: string, scorm2004: boolean, CMIElement: string, value: any): string;
    _commonGetCMIValue(methodName: string, scorm2004: boolean, CMIElement: string): any;
    isInitialized(): boolean;
    isNotInitialized(): boolean;
    isTerminated(): boolean;
    on(listenerName: string, callback: Function): void;
    off(listenerName: string, callback: Function): void;
    clear(listenerName: string): void;
    processListeners(functionName: string, CMIElement?: string, value?: any): void;
    throwSCORMError(CMIElement: string, errorNumber: number, message?: string): void;
    clearSCORMError(success: string): void;
    loadFromFlattenedJSON(json: StringKeyMap, CMIElement?: string): void;
    loadFromJSON(json: StringKeyMap, CMIElement?: string): void;
    renderCMIToJSONString(): string;
    renderCMIToJSONObject(): StringKeyMap;
    processHttpRequest(url: string, params: CommitObject | StringKeyMap | Array<any>, immediate?: boolean): Promise<ResultObject>;
    scheduleCommit(when: number, callback: string): void;
    clearScheduledCommit(): void;
    private _checkObjectHasProperty;
    private handleValueAccessException;
    protected getCommitObject(terminateCommit: boolean): CommitObject | StringKeyMap | Array<any>;
}
